(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[3851],{53851:(e,t,s)=>{"use strict";s.r(t),s.d(t,{AccordionModel:()=>Bt,AccordionView:()=>$t,AudioModel:()=>K,AudioView:()=>Y,BaseIntSliderView:()=>ze,BoolModel:()=>x,BoundedFloatModel:()=>Je,BoundedFloatTextModel:()=>it,BoundedIntModel:()=>Pe,BoundedIntTextModel:()=>Ue,BoxModel:()=>I,BoxView:()=>D,ButtonModel:()=>T,ButtonStyleModel:()=>j,ButtonView:()=>O,CheckboxModel:()=>w,CheckboxStyleModel:()=>_,CheckboxView:()=>y,ColorPickerModel:()=>G,ColorPickerView:()=>X,ColorsInputModel:()=>Ps,ColorsInputView:()=>As,ComboboxModel:()=>li,ComboboxView:()=>oi,ControllerAxisModel:()=>rt,ControllerAxisView:()=>dt,ControllerButtonModel:()=>lt,ControllerButtonView:()=>ot,ControllerModel:()=>ut,ControllerView:()=>ht,DatePickerModel:()=>ee,DatePickerView:()=>te,DatetimeModel:()=>he,DatetimeView:()=>ce,DescriptionModel:()=>d,DescriptionStyleModel:()=>r,DescriptionView:()=>u,DirectionalLinkModel:()=>b,DropdownModel:()=>gt,DropdownView:()=>mt,FileUploadModel:()=>ri,FileUploadView:()=>di,FloatLogSliderModel:()=>Xe,FloatLogSliderView:()=>et,FloatModel:()=>Ye,FloatProgressModel:()=>nt,FloatRangeSliderModel:()=>Qe,FloatRangeSliderView:()=>tt,FloatSliderModel:()=>Ge,FloatSliderView:()=>Ze,FloatTextModel:()=>st,FloatTextView:()=>at,FloatsInputModel:()=>zs,FloatsInputView:()=>Ds,GridBoxModel:()=>$,GridBoxView:()=>U,HBoxModel:()=>N,HBoxView:()=>W,HTMLMathModel:()=>Gs,HTMLMathStyleModel:()=>Rs,HTMLMathView:()=>Xs,HTMLModel:()=>Ys,HTMLStyleModel:()=>$s,HTMLView:()=>Js,ImageModel:()=>R,ImageView:()=>F,IntModel:()=>Ee,IntProgressModel:()=>Fe,IntRangeSliderModel:()=>Ne,IntRangeSliderView:()=>De,IntSliderModel:()=>Ie,IntSliderView:()=>We,IntTextModel:()=>Be,IntTextView:()=>$e,IntsInputModel:()=>Ws,IntsInputView:()=>Bs,JUPYTER_CONTROLS_VERSION:()=>o.N,JupyterLuminoAccordionWidget:()=>Ut,JupyterLuminoTabPanelWidget:()=>Ft,LabelModel:()=>Qs,LabelStyleModel:()=>Fs,LabelView:()=>Zs,LabeledDOMWidgetModel:()=>h,LabeledDOMWidgetView:()=>c,LinkModel:()=>f,MultipleSelectionModel:()=>Mt,NaiveDatetimeModel:()=>fe,PasswordModel:()=>ai,PasswordView:()=>ni,PlayModel:()=>qe,PlayView:()=>Ke,ProgressStyleModel:()=>Re,ProgressView:()=>He,RadioButtonsModel:()=>_t,RadioButtonsView:()=>vt,SelectModel:()=>bt,SelectMultipleModel:()=>kt,SelectMultipleView:()=>jt,SelectView:()=>ft,SelectionContainerModel:()=>Wt,SelectionModel:()=>ct,SelectionRangeSliderModel:()=>Tt,SelectionRangeSliderView:()=>Ot,SelectionSliderModel:()=>St,SelectionSliderView:()=>Ct,SelectionView:()=>pt,SliderStyleModel:()=>Ae,StackModel:()=>qt,StackView:()=>Kt,StringModel:()=>qs,StringView:()=>Ks,TabModel:()=>Rt,TabView:()=>Ht,TagsInputModel:()=>Vs,TagsInputView:()=>Es,TextModel:()=>si,TextStyleModel:()=>Hs,TextView:()=>ii,TextareaModel:()=>ei,TextareaView:()=>ti,TimeModel:()=>le,TimeView:()=>oe,ToggleButtonModel:()=>S,ToggleButtonStyleModel:()=>v,ToggleButtonView:()=>C,ToggleButtonsModel:()=>wt,ToggleButtonsStyleModel:()=>xt,ToggleButtonsView:()=>yt,VBoxModel:()=>z,VBoxView:()=>B,ValidModel:()=>M,ValidView:()=>k,VideoModel:()=>H,VideoView:()=>q,datetime_serializers:()=>ue,deserialize_date:()=>Z,deserialize_datetime:()=>de,deserialize_naive:()=>me,deserialize_time:()=>ae,escape_html:()=>n,naive_serializers:()=>be,reject:()=>l,resolvePromisesDict:()=>i.resolvePromisesDict,serialize_date:()=>Q,serialize_datetime:()=>re,serialize_naive:()=>ge,serialize_time:()=>ie,time_serializers:()=>ne,typeset:()=>a,uuid:()=>i.uuid,version:()=>ui});var i=s(67651);function a(e,t){void 0!==t&&(e.textContent=t),void 0!==window.MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,e])}function n(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}function l(e,t){return function(s){throw t&&console.error(new Error(e)),s}}var o=s(56587);class r extends i.StyleModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DescriptionStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:o.N})}}r.styleProperties={description_width:{selector:".widget-label",attribute:"width",default:null}};class d extends i.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DescriptionModel",_view_name:"DescriptionView",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:o.N,_model_module_version:o.N,description:"",description_allow_html:!1})}}class u extends i.DOMWidgetView{render(){this.label=document.createElement("label"),this.el.appendChild(this.label),this.label.className="widget-label",this.label.style.display="none",this.listenTo(this.model,"change:description",this.updateDescription),this.listenTo(this.model,"change:description_allow_html",this.updateDescription),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.updateDescription(),this.updateTabindex(),this.updateTooltip()}typeset(e,t){this.displayed.then((()=>a(e,t)))}updateDescription(){const e=this.model.get("description");0===e.length?this.label.style.display="none":(this.model.get("description_allow_html")?this.label.innerHTML=this.model.widget_manager.inline_sanitize(e):this.label.textContent=e,this.typeset(this.label),this.label.style.display="")}updateTooltip(){this.label&&(this.label.title=this.model.get("tooltip"))}}class h extends d{}class c extends u{}class p extends i.WidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:o.N,_model_module_version:o.N})}}class g extends i.DOMWidgetModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreDOMWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:o.N,_model_module_version:o.N})}}class m extends d{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CoreDescriptionModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:o.N,_model_module_version:o.N})}}class b extends p{defaults(){return Object.assign(Object.assign({},super.defaults()),{target:void 0,source:void 0,_model_name:"DirectionalLinkModel"})}initialize(e,t){super.initialize(e,t),this.on("change",this.updateBindings,this),this.updateBindings()}updateValue(e,t,s,i){if(!this._updating){this._updating=!0;try{s&&(s.set(i,e.get(t)),s.save_changes())}finally{this._updating=!1}}}updateBindings(){this.cleanup(),[this.sourceModel,this.sourceAttr]=this.get("source")||[null,null],[this.targetModel,this.targetAttr]=this.get("target")||[null,null],this.sourceModel&&(this.listenTo(this.sourceModel,"change:"+this.sourceAttr,(()=>{this.updateValue(this.sourceModel,this.sourceAttr,this.targetModel,this.targetAttr)})),this.updateValue(this.sourceModel,this.sourceAttr,this.targetModel,this.targetAttr),this.listenToOnce(this.sourceModel,"destroy",this.cleanup)),this.targetModel&&this.listenToOnce(this.targetModel,"destroy",this.cleanup)}cleanup(){this.sourceModel&&(this.stopListening(this.sourceModel,"change:"+this.sourceAttr,void 0),this.stopListening(this.sourceModel,"destroy",void 0)),this.targetModel&&this.stopListening(this.targetModel,"destroy",void 0)}}b.serializers=Object.assign(Object.assign({},p.serializers),{target:{deserialize:i.unpack_models},source:{deserialize:i.unpack_models}});class f extends b{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"LinkModel"})}updateBindings(){super.updateBindings(),this.targetModel&&this.listenTo(this.targetModel,"change:"+this.targetAttr,(()=>{this.updateValue(this.targetModel,this.targetAttr,this.sourceModel,this.sourceAttr)}))}cleanup(){super.cleanup(),this.targetModel&&this.stopListening(this.targetModel,"change:"+this.targetAttr,void 0)}}class _ extends r{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"CheckboxStyleModel"})}}_.styleProperties=Object.assign(Object.assign({},r.styleProperties),{background:{selector:"",attribute:"background",default:null}});class v extends r{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonStyleModel"})}}v.styleProperties=Object.assign(Object.assign({},r.styleProperties),{font_family:{selector:"",attribute:"font-family",default:""},font_size:{selector:"",attribute:"font-size",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_color:{selector:"",attribute:"color",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}});class x extends m{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:!1,disabled:!1,_model_name:"BoolModel"})}}class w extends m{defaults(){return Object.assign(Object.assign({},super.defaults()),{indent:!0,style:null,_view_name:"CheckboxView",_model_name:"CheckboxModel"})}}class y extends u{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-checkbox"),this.label.innerHTML="&#8203;",this.checkboxLabel=document.createElement("label"),this.checkboxLabel.classList.add("widget-label-basic"),this.el.appendChild(this.checkboxLabel),this.checkbox=document.createElement("input"),this.checkbox.setAttribute("type","checkbox"),this.checkboxLabel.appendChild(this.checkbox),this.descriptionSpan=document.createElement("span"),this.checkboxLabel.appendChild(this.descriptionSpan),this.listenTo(this.model,"change:indent",this.updateIndent),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.update(),this.updateDescription(),this.updateIndent(),this.updateTabindex(),this.updateTooltip()}updateDescription(){if(null==this.checkboxLabel)return;const e=this.model.get("description");this.model.get("description_allow_html")?this.descriptionSpan.innerHTML=this.model.widget_manager.inline_sanitize(e):this.descriptionSpan.textContent=e,this.typeset(this.descriptionSpan),this.descriptionSpan.title=e,this.checkbox.title=e}updateIndent(){const e=this.model.get("indent");this.label.style.display=e?"":"none"}updateTabindex(){if(!this.checkbox)return;const e=this.model.get("tabbable");!0===e?this.checkbox.setAttribute("tabIndex","0"):!1===e?this.checkbox.setAttribute("tabIndex","-1"):null===e&&this.checkbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.checkbox)return;const e=this.model.get("tooltip");e?0===this.model.get("description").length&&this.checkbox.setAttribute("title",e):this.checkbox.removeAttribute("title")}events(){return{'click input[type="checkbox"]':"_handle_click"}}_handle_click(){const e=this.model.get("value");this.model.set("value",!e,{updated_view:this}),this.touch()}update(e){return this.checkbox.checked=this.model.get("value"),void 0!==e&&e.updated_view==this||(this.checkbox.disabled=this.model.get("disabled")),super.update()}handle_message(e){"focus"==e.do?this.checkbox.focus():"blur"==e.do&&this.checkbox.blur()}}class S extends x{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"ToggleButtonView",_model_name:"ToggleButtonModel",tooltip:"",icon:"",button_style:"",style:null})}}class C extends i.DOMWidgetView{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-toggle-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.set_button_style(),this.update()}update_button_style(){this.update_mapped_classes(C.class_map,"button_style")}set_button_style(){this.set_mapped_classes(C.class_map,"button_style")}update(e){if(this.model.get("value")?this.el.classList.add("mod-active"):this.el.classList.remove("mod-active"),void 0===e||e.updated_view!==this){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("tabbable",this.model.get("tabbable")),this.el.setAttribute("title",this.model.get("tooltip"));const e=this.model.get("description"),t=this.model.get("icon");if(0===e.trim().length&&0===t.trim().length)this.el.innerHTML="&nbsp;";else{if(this.el.textContent="",t.trim().length){const e=document.createElement("i");this.el.appendChild(e),e.classList.add("fa"),e.classList.add("fa-"+t)}this.el.appendChild(document.createTextNode(e))}}return this.updateTabindex(),super.update()}events(){return{click:"_handle_click"}}_handle_click(e){e.preventDefault();const t=this.model.get("value");this.model.set("value",!t,{updated_view:this}),this.touch()}preinitialize(){this.tagName="button"}}C.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]};class M extends x{defaults(){return Object.assign(Object.assign({},super.defaults()),{readout:"Invalid",_view_name:"ValidView",_model_name:"ValidModel"})}}class k extends u{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-valid"),this.el.classList.add("widget-inline-hbox"),this.icon=document.createElement("i"),this.icon.classList.add("fa","fa-fw"),this.el.appendChild(this.icon),this.readout=document.createElement("span"),this.readout.classList.add("widget-valid-readout"),this.readout.classList.add("widget-readout"),this.el.appendChild(this.readout),this.update()}update(){this.el.classList.remove("mod-valid"),this.el.classList.remove("mod-invalid"),this.icon.classList.remove("fa-check"),this.icon.classList.remove("fa-times"),this.readout.textContent=this.model.get("readout"),this.model.get("value")?(this.el.classList.add("mod-valid"),this.icon.classList.add("fa-check")):(this.el.classList.add("mod-invalid"),this.icon.classList.add("fa-times"))}}class j extends i.StyleModel{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ButtonStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:o.N})}}j.styleProperties={button_color:{selector:"",attribute:"background-color",default:null},font_family:{selector:"",attribute:"font-family",default:""},font_size:{selector:"",attribute:"font-size",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_color:{selector:"",attribute:"color",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}};class T extends g{defaults(){return Object.assign(Object.assign({},super.defaults()),{description:"",tooltip:"",disabled:!1,icon:"",button_style:"",_view_name:"ButtonView",_model_name:"ButtonModel",style:null})}}class O extends i.DOMWidgetView{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.listenTo(this.model,"change:tabbable",this.updateTabindex),this.set_button_style(),this.update()}update(){this.el.disabled=this.model.get("disabled"),this.updateTabindex();const e=this.model.get("tooltip"),t=this.model.get("description"),s=this.model.get("icon");if(this.el.setAttribute("title",null!=e?e:t),t.length||s.length){if(this.el.textContent="",s.length){const e=document.createElement("i");e.classList.add("fa"),e.classList.add(...s.split(/[\s]+/).filter(Boolean).map((e=>`fa-${e}`))),0===t.length&&e.classList.add("center"),this.el.appendChild(e)}this.el.appendChild(document.createTextNode(t))}return super.update()}update_button_style(){this.update_mapped_classes(O.class_map,"button_style")}set_button_style(){this.set_mapped_classes(O.class_map,"button_style")}events(){return{click:"_handle_click"}}_handle_click(e){e.preventDefault(),this.send({event:"click"})}preinitialize(){this.tagName="button"}}O.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]};var L=s(23203),V=s(78695),E=s(42051),P=s(38291),A=s.n(P);class I extends g{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"BoxView",_model_name:"BoxModel",children:[],box_style:""})}}I.serializers=Object.assign(Object.assign({},g.serializers),{children:{deserialize:i.unpack_models}});class N extends I{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HBoxView",_model_name:"HBoxModel"})}}class z extends I{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"VBoxView",_model_name:"VBoxModel"})}}class D extends i.DOMWidgetView{_createElement(e){return this.luminoWidget=new i.JupyterLuminoPanelWidget({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=A()(this.luminoWidget.node)}initialize(e){super.initialize(e),this.children_views=new i.ViewList(this.add_child_model,null,this),this.listenTo(this.model,"change:children",this.update_children),this.listenTo(this.model,"change:box_style",this.update_box_style),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-container"),this.luminoWidget.addClass("widget-box")}render(){super.render(),this.update_children(),this.set_box_style()}update_children(){var e;null===(e=this.children_views)||void 0===e||e.update(this.model.get("children")).then((e=>{e.forEach((e=>{V.MessageLoop.postMessage(e.luminoWidget,E.Widget.ResizeMessage.UnknownSize)}))}))}update_box_style(){this.update_mapped_classes(D.class_map,"box_style")}set_box_style(){this.set_mapped_classes(D.class_map,"box_style")}add_child_model(e){const t=new E.Widget;return this.luminoWidget.addWidget(t),this.create_child_view(e).then((e=>{const s=L.ArrayExt.firstIndexOf(this.luminoWidget.widgets,t);return this.luminoWidget.insertWidget(s,e.luminoWidget),t.dispose(),e})).catch((0,i.reject)("Could not add child view to box",!0))}remove(){this.children_views=null,super.remove()}}D.class_map={success:["alert","alert-success"],info:["alert","alert-info"],warning:["alert","alert-warning"],danger:["alert","alert-danger"]};class W extends D{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-hbox")}}class B extends D{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-vbox")}}class U extends D{initialize(e){super.initialize(e),this.luminoWidget.addClass("widget-gridbox"),this.luminoWidget.removeClass("widget-box")}}class $ extends I{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"GridBoxView",_model_name:"GridBoxModel"})}}class R extends g{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ImageModel",_view_name:"ImageView",format:"png",width:"",height:"",value:new DataView(new ArrayBuffer(0))})}}R.serializers=Object.assign(Object.assign({},g.serializers),{value:{serialize:e=>new DataView(e.buffer.slice(0))}});class F extends i.DOMWidgetView{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-image"),this.update()}update(){let e;const t=this.model.get("format"),s=this.model.get("value");if("url"!==t){const t=new Blob([s],{type:`image/${this.model.get("format")}`});e=URL.createObjectURL(t)}else e=new TextDecoder("utf-8").decode(s.buffer);const i=this.el.src;this.el.src=e,i&&URL.revokeObjectURL(i);const a=this.model.get("width");void 0!==a&&a.length>0?this.el.setAttribute("width",a):this.el.removeAttribute("width");const n=this.model.get("height");return void 0!==n&&n.length>0?this.el.setAttribute("height",n):this.el.removeAttribute("height"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="img"}}class H extends g{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"VideoModel",_view_name:"VideoView",format:"mp4",width:"",height:"",autoplay:!0,loop:!0,controls:!0,value:new DataView(new ArrayBuffer(0))})}}H.serializers=Object.assign(Object.assign({},g.serializers),{value:{serialize:e=>new DataView(e.buffer.slice(0))}});class q extends i.DOMWidgetView{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.luminoWidget.addClass("widget-image"),this.update()}update(){let e;const t=this.model.get("format"),s=this.model.get("value");if("url"!==t){const t=new Blob([s],{type:`video/${this.model.get("format")}`});e=URL.createObjectURL(t)}else e=new TextDecoder("utf-8").decode(s.buffer);const i=this.el.src;this.el.src=e,i&&URL.revokeObjectURL(i);const a=this.model.get("width");void 0!==a&&a.length>0?this.el.setAttribute("width",a):this.el.removeAttribute("width");const n=this.model.get("height");return void 0!==n&&n.length>0?this.el.setAttribute("height",n):this.el.removeAttribute("height"),this.el.loop=this.model.get("loop"),this.el.autoplay=this.model.get("autoplay"),this.el.controls=this.model.get("controls"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="video"}}class K extends g{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"AudioModel",_view_name:"AudioView",format:"mp3",autoplay:!0,loop:!0,controls:!0,value:new DataView(new ArrayBuffer(0))})}}K.serializers=Object.assign(Object.assign({},g.serializers),{value:{serialize:e=>new DataView(e.buffer.slice(0))}});class Y extends i.DOMWidgetView{render(){super.render(),this.luminoWidget.addClass("jupyter-widgets"),this.update()}update(){let e;const t=this.model.get("format"),s=this.model.get("value");if("url"!==t){const t=new Blob([s],{type:`audio/${this.model.get("format")}`});e=URL.createObjectURL(t)}else e=new TextDecoder("utf-8").decode(s.buffer);const i=this.el.src;return this.el.src=e,i&&URL.revokeObjectURL(i),this.el.loop=this.model.get("loop"),this.el.autoplay=this.model.get("autoplay"),this.el.controls=this.model.get("controls"),super.update()}remove(){this.el.src&&URL.revokeObjectURL(this.el.src),super.remove()}preinitialize(){this.tagName="audio"}}const J={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgreen:"#90ee90",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};class G extends m{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:"black",concise:!1,_model_name:"ColorPickerModel",_view_name:"ColorPickerView"})}}class X extends u{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-colorpicker"),this._color_container=document.createElement("div"),this._color_container.className="widget-inline-hbox widget-colorpicker-input",this.el.appendChild(this._color_container),this._textbox=document.createElement("input"),this._textbox.setAttribute("type","text"),this._textbox.id=this.label.htmlFor=(0,i.uuid)(),this._color_container.appendChild(this._textbox),this._textbox.value=this.model.get("value"),this._colorpicker=document.createElement("input"),this._colorpicker.setAttribute("type","color"),this._color_container.appendChild(this._colorpicker),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change:concise",this._update_concise),this._update_concise(),this._update_value(),this.update()}update(e){if(void 0===e||e.updated_view!=this){const e=this.model.get("disabled");this._textbox.disabled=e,this._colorpicker.disabled=e}return super.update()}events(){return this._picker_change,this._text_change,{'change [type="color"]':"_picker_change",'change [type="text"]':"_text_change"}}_update_value(){const e=this.model.get("value");var t,s;this._colorpicker.value=J[(t=e).toLowerCase()]||(7===(s=t).length?s:"#"+s.charAt(1)+s.charAt(1)+s.charAt(2)+s.charAt(2)+s.charAt(3)+s.charAt(3)),this._textbox.value=e}_update_concise(){this.model.get("concise")?(this.el.classList.add("concise"),this._textbox.style.display="none"):(this.el.classList.remove("concise"),this._textbox.style.display="")}_picker_change(){this.model.set("value",this._colorpicker.value),this.touch()}_text_change(){const e=this._validate_color(this._textbox.value,this.model.get("value"));this.model.set("value",e),this.touch()}_validate_color(e,t){return e.match(/#[a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?$/)||J[e.toLowerCase()]?e:t}}function Q(e){return null===e?null:{year:e.getUTCFullYear(),month:e.getUTCMonth(),date:e.getUTCDate()}}function Z(e){if(null===e)return null;{const t=new Date;return t.setUTCFullYear(e.year,e.month,e.date),t.setUTCHours(0,0,0,0),t}}class ee extends m{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:null,_model_name:"DatePickerModel",_view_name:"DatePickerView"})}}ee.serializers=Object.assign(Object.assign({},m.serializers),{value:{serialize:Q,deserialize:Z}});class te extends u{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-datepicker"),this._datepicker=document.createElement("input"),this._datepicker.setAttribute("type","date"),this._datepicker.id=this.label.htmlFor=(0,i.uuid)(),this.el.appendChild(this._datepicker),this.listenTo(this.model,"change:value",this._update_value),this._update_value(),this.update()}update(e){return void 0!==e&&e.updated_view===this||(this._datepicker.disabled=this.model.get("disabled")),super.update()}events(){return this._picker_change,this._picker_focusout,{'change [type="date"]':"_picker_change",'focusout [type="date"]':"_picker_focusout"}}_update_value(){const e=this.model.get("value");this._datepicker.valueAsDate=e}_picker_change(){this._datepicker.validity.badInput||(this.model.set("value",this._datepicker.valueAsDate),this.touch())}_picker_focusout(){this._datepicker.validity.badInput&&(this.model.set("value",null),this.touch())}}const se=/(\d\d):(\d\d)(:(\d\d)(.(\d{1,3})\d*)?)?/;function ie(e){if(null===e)return null;{const t=se.exec(e);return null===t?null:{hours:Math.min(23,parseInt(t[1],10)),minutes:Math.min(59,parseInt(t[2],10)),seconds:t[4]?Math.min(59,parseInt(t[4],10)):0,milliseconds:t[6]?parseInt(t[6],10):0}}}function ae(e){if(null===e)return null;{const t=[`${e.hours.toString().padStart(2,"0")}:${e.minutes.toString().padStart(2,"0")}`];return(e.seconds>0||e.milliseconds>0)&&(t.push(`:${e.seconds.toString().padStart(2,"0")}`),e.milliseconds>0&&t.push(`.${e.milliseconds.toString().padStart(3,"0")}`)),t.join("")}}const ne={serialize:ie,deserialize:ae};class le extends m{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:le.model_name,_view_name:le.view_name,value:null,disabled:!1,min:null,max:null,step:60})}}le.serializers=Object.assign(Object.assign({},m.serializers),{value:ne,min:ne,max:ne}),le.model_name="TimeModel",le.view_name="TimeView";class oe extends u{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-timepicker"),this._timepicker=document.createElement("input"),this._timepicker.setAttribute("type","time"),this._timepicker.id=this.label.htmlFor=(0,i.uuid)(),this.el.appendChild(this._timepicker),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change",this.update2),this._update_value(),this.update2()}update2(e,t){return void 0!==t&&t.updated_view===this||(this._timepicker.disabled=this.model.get("disabled"),this._timepicker.min=this.model.get("min"),this._timepicker.max=this.model.get("max"),this._timepicker.step=this.model.get("step")),super.update()}events(){return this._picker_change,this._picker_focusout,{'change [type="time"]':"_picker_change",'focusout [type="time"]':"_picker_focusout"}}_update_value(e,t,s){void 0!==s&&s.updated_view===this||(this._timepicker.value=this.model.get("value"))}_picker_change(){this._timepicker.validity.badInput||(this.model.set("value",this._timepicker.value,{updated_view:this}),this.touch())}_picker_focusout(){this._timepicker.validity.badInput&&(this.model.set("value",null,{updated_view:this}),this.touch())}}function re(e){return null===e?null:{year:e.getUTCFullYear(),month:e.getUTCMonth(),date:e.getUTCDate(),hours:e.getUTCHours(),minutes:e.getUTCMinutes(),seconds:e.getUTCSeconds(),milliseconds:e.getUTCMilliseconds()}}function de(e){if(null===e)return null;{const t=new Date;return t.setUTCFullYear(e.year,e.month,e.date),t.setUTCHours(e.hours,e.minutes,e.seconds,e.milliseconds),t}}const ue={serialize:re,deserialize:de};class he extends m{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DatetimeModel",_view_name:"DatetimeView",value:null,disabled:!1,min:null,max:null})}}he.serializers=Object.assign(Object.assign({},m.serializers),{value:ue,min:ue,max:ue});class ce extends u{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-datetimepicker");const e=document.createElement("input");e.type="datetime-local","text"===e.type?(this._datepicker=document.createElement("input"),this._datepicker.setAttribute("type","date"),this._datepicker.id=this.label.htmlFor=(0,i.uuid)(),this._timepicker=document.createElement("input"),this._timepicker.setAttribute("type","time"),this._timepicker.id=(0,i.uuid)(),this.el.appendChild(this._datepicker),this.el.appendChild(this._timepicker)):(this._datetimepicker=e,this._datetimepicker.id=this.label.htmlFor=(0,i.uuid)(),this.el.appendChild(this._datetimepicker)),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change",this.update2),this._update_value(),this.update2()}update2(e,t){if(void 0===t||t.updated_view!==this){const e=this.model.get("min"),t=this.model.get("max");this._datetimepicker?(this._datetimepicker.disabled=this.model.get("disabled"),this._datetimepicker.min=pe.dt_as_dt_string(e),this._datetimepicker.max=pe.dt_as_dt_string(t)):(this._datepicker.disabled=this.model.get("disabled"),this._datepicker.min=pe.dt_as_date_string(e),this._datepicker.max=pe.dt_as_date_string(t),this._timepicker.disabled=this.model.get("disabled"))}}events(){return this._picker_change,this._picker_focusout,{'change [type="date"]':"_picker_change",'change [type="time"]':"_picker_change",'change [type="datetime-local"]':"_picker_change",'focusout [type="date"]':"_picker_focusout",'focusout [type="datetime-local"]':"_picker_focusout",'focusout [type="time"]':"_picker_focusout"}}_update_value(e,t,s){if(void 0===s||s.updated_view!==this){const e=this.model.get("value");this._datetimepicker?this._datetimepicker.value=pe.dt_as_dt_string(e):(this._datepicker.valueAsDate=e,this._timepicker.value=pe.dt_as_time_string(e))}}_picker_change(){if(this._datetimepicker){if(!this._datetimepicker.validity.badInput){const e=this._datetimepicker.value;let t=e?new Date(e):null;t&&isNaN(t.valueOf())&&(t=null),this.model.set("value",t,{updated_view:this}),this.touch()}}else if(!this._datepicker.validity.badInput&&!this._timepicker.validity.badInput){const e=this._datepicker.valueAsDate,t=ie(this._timepicker.value);null!==e&&null!==t&&e.setHours(t.hours,t.minutes,t.seconds,t.milliseconds),this.model.set("value",null!==t&&e,{updated_view:this}),this.touch()}}_picker_focusout(){[this._datetimepicker,this._datepicker,this._timepicker].some((e=>e&&e.validity.badInput))&&(this.model.set("value",null),this.touch())}}var pe;function ge(e){return null===e?null:{year:e.getFullYear(),month:e.getMonth(),date:e.getDate(),hours:e.getHours(),minutes:e.getMinutes(),seconds:e.getSeconds(),milliseconds:e.getMilliseconds()}}function me(e){if(null===e)return null;{const t=new Date;return t.setFullYear(e.year,e.month,e.date),t.setHours(e.hours,e.minutes,e.seconds,e.milliseconds),t}}!function(e){function t(e){if(null===e)return"";const t=[];return t.push(`${e.getFullYear().toString().padStart(4,"0")}`),t.push(`-${(e.getMonth()+1).toString().padStart(2,"0")}`),t.push(`-${e.getDate().toString().padStart(2,"0")}`),t.push(`T${e.getHours().toString().padStart(2,"0")}`),t.push(`:${e.getMinutes().toString().padStart(2,"0")}`),(e.getSeconds()>0||e.getMilliseconds()>0)&&(t.push(`:${e.getSeconds().toString().padStart(2,"0")}`),e.getMilliseconds()>0&&t.push(`.${e.getMilliseconds().toString().padStart(3,"0")}`)),t.join("")}e.dt_as_dt_string=t,e.dt_as_date_string=function(e){return e?t(e).split("T",2)[0]:""},e.dt_as_time_string=function(e){return e?t(e).split("T",2)[1]:""}}(pe||(pe={}));const be={serialize:ge,deserialize:me};class fe extends he{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"NaiveDatetimeModel"})}}function _e(e,t){if((s=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var s,i=e.slice(0,s);return[i.length>1?i[0]+i.slice(2):i,+e.slice(s+1)]}fe.serializers=Object.assign(Object.assign({},m.serializers),{value:be,min:be,max:be});var ve,xe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function we(e){if(!(t=xe.exec(e)))throw new Error("invalid format: "+e);var t;return new ye({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function ye(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Se(e,t){var s=_e(e,t);if(!s)return e+"";var i=s[0],a=s[1];return a<0?"0."+new Array(-a).join("0")+i:i.length>a+1?i.slice(0,a+1)+"."+i.slice(a+1):i+new Array(a-i.length+2).join("0")}we.prototype=ye.prototype,ye.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const Ce={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Se(100*e,t),r:Se,s:function(e,t){var s=_e(e,t);if(!s)return e+"";var i=s[0],a=s[1],n=a-(ve=3*Math.max(-8,Math.min(8,Math.floor(a/3))))+1,l=i.length;return n===l?i:n>l?i+new Array(n-l+1).join("0"):n>0?i.slice(0,n)+"."+i.slice(n):"0."+new Array(1-n).join("0")+_e(e,Math.max(0,t+n-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Me(e){return e}var ke,je,Te=Array.prototype.map,Oe=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];ke=function(e){var t,s,i=void 0===e.grouping||void 0===e.thousands?Me:(t=Te.call(e.grouping,Number),s=e.thousands+"",function(e,i){for(var a=e.length,n=[],l=0,o=t[0],r=0;a>0&&o>0&&(r+o+1>i&&(o=Math.max(1,i-r)),n.push(e.substring(a-=o,a+o)),!((r+=o+1)>i));)o=t[l=(l+1)%t.length];return n.reverse().join(s)}),a=void 0===e.currency?"":e.currency[0]+"",n=void 0===e.currency?"":e.currency[1]+"",l=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?Me:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(Te.call(e.numerals,String)),r=void 0===e.percent?"%":e.percent+"",d=void 0===e.minus?"−":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function h(e){var t=(e=we(e)).fill,s=e.align,h=e.sign,c=e.symbol,p=e.zero,g=e.width,m=e.comma,b=e.precision,f=e.trim,_=e.type;"n"===_?(m=!0,_="g"):Ce[_]||(void 0===b&&(b=12),f=!0,_="g"),(p||"0"===t&&"="===s)&&(p=!0,t="0",s="=");var v="$"===c?a:"#"===c&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",x="$"===c?n:/[%p]/.test(_)?r:"",w=Ce[_],y=/[defgprs%]/.test(_);function S(e){var a,n,r,c=v,S=x;if("c"===_)S=w(e)+S,e="";else{var C=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),b),f&&(e=function(e){e:for(var t,s=e.length,i=1,a=-1;i<s;++i)switch(e[i]){case".":a=t=i;break;case"0":0===a&&(a=i),t=i;break;default:if(!+e[i])break e;a>0&&(a=0)}return a>0?e.slice(0,a)+e.slice(t+1):e}(e)),C&&0==+e&&"+"!==h&&(C=!1),c=(C?"("===h?h:d:"-"===h||"("===h?"":h)+c,S=("s"===_?Oe[8+ve/3]:"")+S+(C&&"("===h?")":""),y)for(a=-1,n=e.length;++a<n;)if(48>(r=e.charCodeAt(a))||r>57){S=(46===r?l+e.slice(a+1):e.slice(a))+S,e=e.slice(0,a);break}}m&&!p&&(e=i(e,1/0));var M=c.length+e.length+S.length,k=M<g?new Array(g-M+1).join(t):"";switch(m&&p&&(e=i(k+e,k.length?g-S.length:1/0),k=""),s){case"<":e=c+e+S+k;break;case"=":e=c+k+e+S;break;case"^":e=k.slice(0,M=k.length>>1)+c+e+S+k.slice(M);break;default:e=k+c+e+S}return o(e)}return b=void 0===b?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b)),S.toString=function(){return e+""},S}return{format:h,formatPrefix:function(e,t){var s,i=h(((e=we(e)).type="f",e)),a=3*Math.max(-8,Math.min(8,Math.floor((s=t,((s=_e(Math.abs(s)))?s[1]:NaN)/3)))),n=Math.pow(10,-a),l=Oe[8+a/3];return function(e){return i(n*e)+l}}}}({thousands:",",grouping:[3],currency:["$",""]}),je=ke.format,ke.formatPrefix;var Le=s(6547),Ve=s.n(Le);class Ee extends m{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntModel",value:0})}}class Pe extends Ee{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedIntModel",max:100,min:0})}}class Ae extends r{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SliderStyleModel"})}}Ae.styleProperties=Object.assign(Object.assign({},r.styleProperties),{handle_color:{selector:".noUi-handle",attribute:"background-color",default:null}});class Ie extends Pe{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntSliderModel",_view_name:"IntSliderView",step:1,orientation:"horizontal",readout:!0,readout_format:"d",continuous_update:!0,style:null,disabled:!1})}initialize(e,t){super.initialize(e,t),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=je(this.get("readout_format"))}}class Ne extends Ie{}class ze extends u{constructor(){super(...arguments),this._parse_value=parseInt}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-slider"),this.el.classList.add("widget-hslider"),this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.contentEditable="true",this.readout.style.display="none",this.createSlider(),this.model.on("change:orientation",this.regenSlider,this),this.model.on("change:max",this.updateSliderOptions,this),this.model.on("change:min",this.updateSliderOptions,this),this.model.on("change:step",this.updateSliderOptions,this),this.model.on("change:value",this.updateSliderValue,this),this.update()}update(e){return void 0!==e&&e.updated_view===this||(this.model.get("disabled")?(this.readout.contentEditable="false",this.$slider.setAttribute("disabled",!0)):(this.readout.contentEditable="true",this.$slider.removeAttribute("disabled")),"vertical"===this.model.get("orientation")?(this.el.classList.remove("widget-hslider"),this.el.classList.add("widget-vslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.add("widget-hslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-inline-hbox")),this.model.get("readout")?(this.readout.style.display="",this.displayed.then((()=>{this.readout_overflow()?this.readout.classList.add("overflow"):this.readout.classList.remove("overflow")}))):this.readout.style.display="none"),super.update()}readout_overflow(){return this.readout.scrollWidth>this.readout.clientWidth}events(){return{"blur [contentEditable=true]":"handleTextChange","keydown [contentEditable=true]":"handleKeyDown"}}handleKeyDown(e){13===e.keyCode&&(e.preventDefault(),this.handleTextChange())}createSlider(){const e=this.model.get("orientation"),t=this.model.get("behavior");Ve().create(this.$slider,{start:this.model.get("value"),connect:!0,behaviour:t,range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step"),animate:!1,orientation:e,direction:"horizontal"===e?"ltr":"rtl",format:{from:e=>Number(e),to:e=>this._validate_slide_value(e)}}),this.$slider.noUiSlider.on("update",((e,t)=>{this.handleSliderUpdateEvent(e,t)})),this.$slider.noUiSlider.on("change",((e,t)=>{this.handleSliderChangeEvent(e,t)}))}regenSlider(e){this.$slider.noUiSlider.destroy(),this.createSlider()}_validate_slide_value(e){return Math.round(e)}}class De extends ze{constructor(){super(...arguments),this._range_regex=/^\s*([+-]?\d+)\s*[-:–]\s*([+-]?\d+)/}update(e){super.update(e);const t=this.model.get("value");this.readout.textContent=this.valueToString(t),this.model.get("value")!==t&&(this.model.set("value",t,{updated_view:this}),this.touch())}valueToString(e){const t=this.model.readout_formatter;return e.map((function(e){return t(e)})).join(" – ")}stringToValue(e){if(null===e)return null;const t=this._range_regex.exec(e);return t?[this._parse_value(t[1]),this._parse_value(t[2])]:null}handleTextChange(){let e=this.stringToValue(this.readout.textContent);const t=this.model.get("min"),s=this.model.get("max");null===e||isNaN(e[0])||isNaN(e[1])||e[0]>e[1]?this.readout.textContent=this.valueToString(this.model.get("value")):(e=[Math.max(Math.min(e[0],s),t),Math.max(Math.min(e[1],s),t)],e[0]!==this.model.get("value")[0]||e[1]!==this.model.get("value")[1]?(this.readout.textContent=this.valueToString(e),this.model.set("value",e),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderChangeEvent(e,t){const s=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(s),this.handleSliderChanged(e,t)}handleSliderUpdateEvent(e,t){const s=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(s),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChanged(e,t){const s=e.map(this._validate_slide_value);this.model.set("value",s,{updated_view:this}),this.touch()}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.model.get("value"),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}updateSliderValue(e,t,s){if(s.updated_view===this)return;const i=this.$slider.noUiSlider.get(),a=this.model.get("value");i[0]===a[0]&&i[1]===a[1]||this.$slider.noUiSlider.set(a)}}class We extends ze{update(e){super.update(e);const t=this.model.get("min"),s=this.model.get("max");let i=this.model.get("value");i>s?i=s:i<t&&(i=t),this.readout.textContent=this.valueToString(i),this.model.get("value")!==i&&(this.model.set("value",i,{updated_view:this}),this.touch())}valueToString(e){return(0,this.model.readout_formatter)(e)}stringToValue(e){return this._parse_value(e)}handleTextChange(){var e;let t=this.stringToValue(null!==(e=this.readout.textContent)&&void 0!==e?e:"");const s=this.model.get("min"),i=this.model.get("max");isNaN(t)?this.readout.textContent=this.valueToString(this.model.get("value")):(t=Math.max(Math.min(t,i),s),t!==this.model.get("value")?(this.readout.textContent=this.valueToString(t),this.model.set("value",t),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderChangeEvent(e,t){const s=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(s),this.handleSliderChanged(e,t)}handleSliderUpdateEvent(e,t){const s=e.map(this._validate_slide_value);this.readout.textContent=this.valueToString(s),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChanged(e,t){const s=this._validate_slide_value(e[t]),i=this.model.get("value");parseFloat(i)!==s&&(this.model.set("value",s,{updated_view:this}),this.touch())}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.model.get("value"),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}updateSliderValue(e,t,s){if(s.updated_view===this)return;const i=this.$slider.noUiSlider.get(),a=this.model.get("value");i!==a&&this.$slider.noUiSlider.set(a)}}class Be extends Ee{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1})}}class Ue extends Pe{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedIntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1,step:1})}}class $e extends u{constructor(){super(...arguments),this._parse_value=parseInt,this._default_step="1"}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.type="number",this.textbox.required=!0,this.textbox.id=this.label.htmlFor=(0,i.uuid)(),this.el.appendChild(this.textbox),this.update()}update(e){if(void 0===e||e.updated_view!==this){const e=this.model.get("value");this._parse_value(this.textbox.value)!==e&&(this.textbox.value=e.toString()),void 0!==this.model.get("min")&&(this.textbox.min=this.model.get("min")),void 0!==this.model.get("max")&&(this.textbox.max=this.model.get("max")),void 0!==this.model.get("step")&&null!==this.model.get("step")?this.textbox.step=this.model.get("step"):this.textbox.step=this._default_step,this.textbox.disabled=this.model.get("disabled")}return super.update()}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","keyup input":"handleKeyUp","input input":"handleChanging","change input":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){/[e,. ]/.test(String.fromCharCode(e.keyCode))&&e.preventDefault()}handleKeyUp(e){if(e.altKey||e.ctrlKey)return;const t=e.target;let s=t.value;if(s=s.replace(/[e,.\s]/g,""),s.length>=1){const e=s.substr(1);s=s[0]+e.replace(/[+-]/g,"")}t.value!==s&&(e.preventDefault(),t.value=s)}handleChanging(e){const t=e.target.value.trim();""===t||["-","-.",".","+.","+"].indexOf(t)>=0||this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){const t=e.target;let s=this._parse_value(t.value);if(isNaN(s))t.value=this.model.get("value");else{let e=s;void 0!==this.model.get("max")&&(e=Math.min(this.model.get("max"),e)),void 0!==this.model.get("min")&&(e=Math.max(this.model.get("min"),e)),e!==s&&(t.value=e,s=e),s!==this.model.get("value")&&(this.model.set("value",s,{updated_view:this}),this.touch())}}}class Re extends r{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ProgressStyleModel"})}}Re.styleProperties=Object.assign(Object.assign({},r.styleProperties),{bar_color:{selector:".progress-bar",attribute:"background-color",default:null}});class Fe extends Pe{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"IntProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})}}class He extends u{initialize(e){super.initialize(e),this.listenTo(this.model,"change:bar_style",this.update_bar_style),this.luminoWidget.addClass("jupyter-widgets")}render(){super.render();const e="horizontal"===this.model.get("orientation")?"widget-hprogress":"widget-vprogress";this.el.classList.add(e),this.progress=document.createElement("div"),this.progress.classList.add("progress"),this.progress.style.position="relative",this.el.appendChild(this.progress),this.bar=document.createElement("div"),this.bar.classList.add("progress-bar"),this.bar.style.position="absolute",this.bar.style.bottom="0px",this.bar.style.left="0px",this.progress.appendChild(this.bar),this.update(),this.set_bar_style()}update(){const e=this.model.get("value"),t=this.model.get("max"),s=this.model.get("min"),i=100*(e-s)/(t-s);return"horizontal"===this.model.get("orientation")?(this.el.classList.remove("widget-inline-vbox"),this.el.classList.remove("widget-vprogress"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-hprogress"),this.bar.style.width=i+"%",this.bar.style.height="100%"):(this.el.classList.remove("widget-inline-hbox"),this.el.classList.remove("widget-hprogress"),this.el.classList.add("widget-inline-vbox"),this.el.classList.add("widget-vprogress"),this.bar.style.width="100%",this.bar.style.height=i+"%"),super.update()}update_bar_style(){this.update_mapped_classes(He.class_map,"bar_style",this.bar)}set_bar_style(){this.set_mapped_classes(He.class_map,"bar_style",this.bar)}}He.class_map={success:["progress-bar-success"],info:["progress-bar-info"],warning:["progress-bar-warning"],danger:["progress-bar-danger"]};class qe extends Pe{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"PlayModel",_view_name:"PlayView",repeat:!1,playing:!1,show_repeat:!0,interval:100,step:1,disabled:!1})}initialize(e,t){super.initialize(e,t)}loop(){if(!this.get("playing"))return;const e=this.get("value")+this.get("step");e<=this.get("max")?(this.set("value",e),this.schedule_next()):this.get("repeat")?(this.set("value",this.get("min")),this.schedule_next()):this.pause(),this.save_changes()}schedule_next(){this._timerId=window.setTimeout(this.loop.bind(this),this.get("interval"))}stop(){this.pause(),this.set("value",this.get("min")),this.save_changes()}pause(){window.clearTimeout(this._timerId),this._timerId=void 0,this.set("playing",!1),this.save_changes()}animate(){void 0===this._timerId&&(this.get("value")===this.get("max")?(this.set("value",this.get("min")),this.schedule_next(),this.save_changes()):this.loop(),this.save_changes())}play(){this.set("playing",!this.get("playing")),this.save_changes()}repeat(){this.set("repeat",!this.get("repeat")),this.save_changes()}}class Ke extends i.DOMWidgetView{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-play"),this.playPauseButton=document.createElement("button"),this.stopButton=document.createElement("button"),this.repeatButton=document.createElement("button"),this.playPauseButton.className="jupyter-button",this.stopButton.className="jupyter-button",this.repeatButton.className="jupyter-button",this.el.appendChild(this.playPauseButton),this.el.appendChild(this.stopButton),this.el.appendChild(this.repeatButton);const e=document.createElement("i");e.className="fa fa-play",this.playPauseButton.appendChild(e);const t=document.createElement("i");t.className="fa fa-stop",this.stopButton.appendChild(t);const s=document.createElement("i");s.className="fa fa-retweet",this.repeatButton.appendChild(s),this.playPauseButton.onclick=this.model.play.bind(this.model),this.stopButton.onclick=this.model.stop.bind(this.model),this.repeatButton.onclick=this.model.repeat.bind(this.model),this.listenTo(this.model,"change:playing",this.onPlayingChanged),this.listenTo(this.model,"change:repeat",this.updateRepeat),this.listenTo(this.model,"change:show_repeat",this.updateRepeat),this.updatePlaying(),this.updateRepeat(),this.update()}update(){const e=this.model.get("disabled");this.playPauseButton.disabled=e,this.stopButton.disabled=e,this.repeatButton.disabled=e,this.updatePlaying()}onPlayingChanged(){this.updatePlaying();const e=this.model.previous("playing"),t=this.model.get("playing");!e&&t?this.model.animate():this.model.pause()}updatePlaying(){const e=this.model.get("playing");this.playPauseButton.getElementsByTagName("i")[0].className=e?"fa fa-pause":"fa fa-play"}updateRepeat(){const e=this.model.get("repeat");this.repeatButton.style.display=this.model.get("show_repeat")?this.playPauseButton.style.display:"none",e?this.repeatButton.classList.add("mod-active"):this.repeatButton.classList.remove("mod-active")}}class Ye extends m{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatModel",value:0})}}class Je extends Ye{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedFloatModel",max:100,min:0})}}class Ge extends Je{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatSliderModel",_view_name:"FloatSliderView",step:1,orientation:"horizontal",_range:!1,readout:!0,readout_format:".2f",slider_color:null,continuous_update:!0,disabled:!1})}initialize(e,t){super.initialize(e,t),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=je(this.get("readout_format"))}}class Xe extends Je{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatLogSliderModel",_view_name:"FloatLogSliderView",step:.1,orientation:"horizontal",_range:!1,readout:!0,readout_format:".3g",slider_color:null,continuous_update:!0,disabled:!1,base:10,value:1,min:0,max:4})}initialize(e,t){super.initialize(e,t),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()}update_readout_format(){this.readout_formatter=je(this.get("readout_format"))}}class Qe extends Ge{}class Ze extends We{constructor(){super(...arguments),this._parse_value=parseFloat}_validate_slide_value(e){return e}}class et extends ze{constructor(){super(...arguments),this._parse_value=parseFloat}update(e){super.update(e);const t=this.model.get("value");this.readout.textContent=this.valueToString(t)}logCalc(e){const t=this.model.get("min"),s=this.model.get("max"),i=this.model.get("base");let a=Math.log(e)/Math.log(i);return a>s?a=s:a<t&&(a=t),a}createSlider(){var e;const t=this.model.get("orientation"),s=this.model.get("behavior");Ve().create(this.$slider,{start:this.logCalc(this.model.get("value")),behaviour:s,range:{min:this.model.get("min"),max:this.model.get("max")},step:null!==(e=this.model.get("step"))&&void 0!==e?e:void 0,animate:!1,orientation:t,direction:"horizontal"===t?"ltr":"rtl",format:{from:e=>Number(e),to:e=>e}}),this.$slider.noUiSlider.on("update",((e,t)=>{this.handleSliderUpdateEvent(e,t)})),this.$slider.noUiSlider.on("change",((e,t)=>{this.handleSliderChangeEvent(e,t)}))}valueToString(e){return(0,this.model.readout_formatter)(e)}stringToValue(e){return null===e?NaN:this._parse_value(e)}handleTextChange(){let e=this.stringToValue(this.readout.textContent);const t=this.model.get("min"),s=this.model.get("max"),i=this.model.get("base");isNaN(e)?this.readout.textContent=this.valueToString(this.model.get("value")):(e=Math.max(Math.min(e,Math.pow(i,s)),Math.pow(i,t)),e!==this.model.get("value")?(this.readout.textContent=this.valueToString(e),this.model.set("value",e),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value")))}handleSliderUpdateEvent(e,t){const s=this.model.get("base"),i=Math.pow(s,this._validate_slide_value(e[0]));this.readout.textContent=this.valueToString(i),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChangeEvent(e,t){const s=this.model.get("base"),i=Math.pow(s,this._validate_slide_value(e[0]));this.readout.textContent=this.valueToString(i),this.handleSliderChanged(e,t)}handleSliderChanged(e,t){if(this._updating_slider)return;const s=this.model.get("base"),i=Math.pow(s,this._validate_slide_value(e[0]));this.model.set("value",i,{updated_view:this}),this.touch()}updateSliderValue(e,t,s){if(s.updated_view===this)return;const i=this.logCalc(this.model.get("value"));this.$slider.noUiSlider.set(i)}updateSliderOptions(e){this.$slider.noUiSlider.updateOptions({start:this.logCalc(this.model.get("value")),range:{min:this.model.get("min"),max:this.model.get("max")},step:this.model.get("step")})}_validate_slide_value(e){return e}}class tt extends De{constructor(){super(...arguments),this._parse_value=parseFloat,this._range_regex=/^\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][-:]?\d+)?)\s*[-:–]\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][+-]?\d+)?)/}_validate_slide_value(e){return e}}class st extends Ye{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1})}}class it extends Je{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"BoundedFloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1,step:.1})}}class at extends $e{constructor(){super(...arguments),this._parse_value=parseFloat,this._default_step="any"}handleKeypress(e){e.stopPropagation()}handleKeyUp(e){}}class nt extends Je{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FloatProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})}}class lt extends g{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerButtonModel",_view_name:"ControllerButtonView",value:0,pressed:!1})}}class ot extends i.DOMWidgetView{render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-button"),this.el.style.width="fit-content",this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="16px",this.support.style.height="16px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.el.appendChild(this.support),this.bar=document.createElement("div"),this.bar.style.position="absolute",this.bar.style.width="100%",this.bar.style.bottom="0px",this.bar.style.background="gray",this.support.appendChild(this.bar),this.update(),this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.el.appendChild(this.label)}update(){this.bar.style.height=100*this.model.get("value")+"%"}}class rt extends g{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerAxisModel",_view_name:"ControllerAxisView",value:0})}}class dt extends i.DOMWidgetView{render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-axis"),this.el.style.width="16px",this.el.style.padding="4px",this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="4px",this.support.style.height="64px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.bullet=document.createElement("div"),this.bullet.style.position="absolute",this.bullet.style.margin="-3px",this.bullet.style.boxSizing="unset",this.bullet.style.width="10px",this.bullet.style.height="10px",this.bullet.style.background="gray",this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.support.appendChild(this.bullet),this.el.appendChild(this.support),this.el.appendChild(this.label),this.update()}update(){this.bullet.style.top=50*(this.model.get("value")+1)+"%"}}class ut extends g{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ControllerModel",_view_name:"ControllerView",index:0,name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]})}initialize(e,t){super.initialize(e,t),void 0===navigator.getGamepads?(this.readout="This browser does not support gamepads.",console.error(this.readout)):(this.readout="Connect gamepad and press any button.",this.get("connected")?this.update_loop():this.wait_loop())}wait_loop(){const e=this.get("index"),t=navigator.getGamepads()[e];t?this.setup(t).then((e=>{this.set(e),this.save_changes(),window.requestAnimationFrame(this.update_loop.bind(this))})):window.requestAnimationFrame(this.wait_loop.bind(this))}setup(e){return this.set({name:e.id,mapping:e.mapping,connected:e.connected,timestamp:e.timestamp}),i.resolvePromisesDict({buttons:Promise.all(e.buttons.map(((e,t)=>this._create_button_model(t)))),axes:Promise.all(e.axes.map(((e,t)=>this._create_axis_model(t))))})}update_loop(){const e=this.get("index"),t=this.get("name"),s=navigator.getGamepads()[e];s&&e===s.index&&t===s.id?(this.set({timestamp:s.timestamp,connected:s.connected}),this.save_changes(),this.get("buttons").forEach((function(e,t){e.set({value:s.buttons[t].value,pressed:s.buttons[t].pressed}),e.save_changes()})),this.get("axes").forEach((function(e,t){e.set("value",s.axes[t]),e.save_changes()})),window.requestAnimationFrame(this.update_loop.bind(this))):this.reset_gamepad()}reset_gamepad(){this.get("buttons").forEach((function(e){e.close()})),this.get("axes").forEach((function(e){e.close()})),this.set({name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]}),this.save_changes(),window.requestAnimationFrame(this.wait_loop.bind(this))}_create_button_model(e){return this.widget_manager.new_widget({model_name:"ControllerButtonModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerButtonView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then((function(t){return t.set("description",e),t}))}_create_axis_model(e){return this.widget_manager.new_widget({model_name:"ControllerAxisModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerAxisView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then((function(t){return t.set("description",e),t}))}}ut.serializers=Object.assign(Object.assign({},g.serializers),{buttons:{deserialize:i.unpack_models},axes:{deserialize:i.unpack_models}});class ht extends i.DOMWidgetView{_createElement(e){return this.luminoWidget=new i.JupyterLuminoPanelWidget({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=A()(this.luminoWidget.node)}initialize(e){super.initialize(e),this.button_views=new i.ViewList(this.add_button,null,this),this.listenTo(this.model,"change:buttons",((e,t)=>{this.button_views.update(t)})),this.axis_views=new i.ViewList(this.add_axis,null,this),this.listenTo(this.model,"change:axes",((e,t)=>{this.axis_views.update(t)})),this.listenTo(this.model,"change:name",this.update_label)}render(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller"),this.label=document.createElement("div"),this.el.appendChild(this.label),this.axis_box=new E.Panel,this.axis_box.node.style.display="flex",this.luminoWidget.addWidget(this.axis_box),this.button_box=new E.Panel,this.button_box.node.style.display="flex",this.luminoWidget.addWidget(this.button_box),this.button_views.update(this.model.get("buttons")),this.axis_views.update(this.model.get("axes")),this.update_label()}update_label(){this.label.textContent=this.model.get("name")||this.model.readout}add_button(e){const t=new E.Widget;return this.button_box.addWidget(t),this.create_child_view(e).then((e=>{const s=L.ArrayExt.firstIndexOf(this.button_box.widgets,t);return this.button_box.insertWidget(s,e.luminoWidget),t.dispose(),e})).catch((0,i.reject)("Could not add child button view to controller",!0))}add_axis(e){const t=new E.Widget;return this.axis_box.addWidget(t),this.create_child_view(e).then((e=>{const s=L.ArrayExt.firstIndexOf(this.axis_box.widgets,t);return this.axis_box.insertWidget(s,e.luminoWidget),t.dispose(),e})).catch((0,i.reject)("Could not add child axis view to controller",!0))}remove(){super.remove(),this.button_views.remove(),this.axis_views.remove()}}class ct extends m{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionModel",index:"",_options_labels:[],disabled:!1})}}class pt extends u{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox")}update(){super.update(),this.listbox&&(this.listbox.disabled=this.model.get("disabled")),this.updateTabindex(),this.updateTooltip()}updateTabindex(){if(!this.listbox)return;const e=this.model.get("tabbable");!0===e?this.listbox.setAttribute("tabIndex","0"):!1===e?this.listbox.setAttribute("tabIndex","-1"):null===e&&this.listbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.listbox)return;const e=this.model.get("tooltip");e?0===this.model.get("description").length&&this.listbox.setAttribute("title",e):this.listbox.removeAttribute("title")}}class gt extends ct{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"DropdownModel",_view_name:"DropdownView",button_style:""})}}class mt extends pt{render(){super.render(),this.el.classList.add("widget-dropdown"),this.listbox=document.createElement("select"),this.listbox.id=this.label.htmlFor=(0,i.uuid)(),this.el.appendChild(this.listbox),this._updateOptions(),this.update()}update(e){(null==e?void 0:e.updated_view)!==this&&this.model.hasChanged("_options_labels")&&this._updateOptions();const t=this.model.get("index");return this.listbox.selectedIndex=null===t?-1:t,super.update()}_updateOptions(){this.listbox.textContent="";const e=this.model.get("_options_labels");for(let t=0;t<e.length;t++){const s=e[t],i=document.createElement("option");i.textContent=s.replace(/ /g," "),i.setAttribute("data-value",encodeURIComponent(s)),i.value=s,this.listbox.appendChild(i)}}events(){return{"change select":"_handle_change"}}_handle_change(){this.model.set("index",-1===this.listbox.selectedIndex?null:this.listbox.selectedIndex,{updated_view:this}),this.touch()}handle_message(e){"focus"===e.do?this.listbox.focus():"blur"===e.do&&this.listbox.blur()}}class bt extends ct{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectModel",_view_name:"SelectView",rows:5})}}class ft extends pt{initialize(e){super.initialize(e),this.listbox=document.createElement("select")}render(){super.render(),this.el.classList.add("widget-select"),this.listbox.id=this.label.htmlFor=(0,i.uuid)(),this.el.appendChild(this.listbox),this._updateOptions(),this.update(),this.updateSelection()}update(e){if((null==e?void 0:e.updated_view)!==this){const e=this.model.hasChanged("_options_labels"),t=this.model.hasChanged("index");if(e||t){const t=this.model.get("index");e&&this._updateOptions(),this.updateSelection(t)}}super.update();let t=this.model.get("rows");null===t&&(t=""),this.listbox.setAttribute("size",t)}updateSelection(e){e=e||this.model.get("index"),this.listbox.selectedIndex=null===e?-1:e}_updateOptions(){this.listbox.textContent="";const e=this.model.get("_options_labels");for(let t=0;t<e.length;t++){const s=e[t],i=document.createElement("option");i.textContent=s.replace(/ /g," "),i.setAttribute("data-value",encodeURIComponent(s)),i.value=s,this.listbox.appendChild(i)}}events(){return{"change select":"_handle_change"}}_handle_change(){this.model.set("index",this.listbox.selectedIndex,{updated_view:this}),this.touch()}handle_message(e){"focus"==e.do?this.listbox.focus():"blur"==e.do&&this.listbox.blur()}}class _t extends ct{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"RadioButtonsModel",_view_name:"RadioButtonsView",tooltips:[],icons:[],button_style:""})}}class vt extends u{render(){super.render(),this.el.classList.add("widget-radio"),this.container=document.createElement("div"),this.el.appendChild(this.container),this.container.classList.add("widget-radio-box"),this.update()}update(e){const t=this.model.get("_options_labels"),s=Array.from(this.container.querySelectorAll('input[type="radio"]')).map((e=>e.value));let i=t.length!==s.length;if(!i)for(let e=0,a=t.length;e<a;++e)if(s[e]!==t[e]){i=!0;break}return!i||void 0!==e&&e.updated_view===this||(this.container.textContent="",t.forEach(((e,t)=>{const s=document.createElement("label");s.textContent=e,this.container.appendChild(s);const i=document.createElement("input");i.setAttribute("type","radio"),i.value=t.toString(),i.setAttribute("data-value",encodeURIComponent(e)),s.appendChild(i)}))),t.forEach(((e,t)=>{const s='input[data-value="'+encodeURIComponent(e)+'"]',i=this.container.querySelectorAll(s);if(i.length>0){const e=i[0];e.checked=this.model.get("index")===t,e.disabled=this.model.get("disabled")}})),setTimeout(this.adjustPadding,0,this),super.update(e)}adjustPadding(e){const t=window.getComputedStyle(e.el),s=parseInt(t.marginTop,10)+parseInt(t.marginBottom,10),i=e.label.offsetHeight+s,a=window.getComputedStyle(e.container),n=parseInt(a.marginBottom,10),l=(e.el.offsetHeight+s-n)%i,o=0===l?0:i-l;e.container.style.marginBottom=o+"px"}events(){return{'click input[type="radio"]':"_handle_click"}}_handle_click(e){const t=e.target;this.model.set("index",parseInt(t.value,10),{updated_view:this}),this.touch()}handle_message(e){if("focus"==e.do)this.container.firstElementChild.focus();else if("blur"==e.do)for(let e=0;e<this.container.children.length;e++)this.container.children[e].blur()}}class xt extends r{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonsStyleModel"})}}xt.styleProperties=Object.assign(Object.assign({},r.styleProperties),{button_width:{selector:".widget-toggle-button",attribute:"width",default:null},font_weight:{selector:".widget-toggle-button",attribute:"font-weight",default:""}});class wt extends ct{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ToggleButtonsModel",_view_name:"ToggleButtonsView"})}}class yt extends u{initialize(e){this._css_state={},super.initialize(e),this.listenTo(this.model,"change:button_style",this.update_button_style)}render(){super.render(),this.el.classList.add("widget-toggle-buttons"),this.buttongroup=document.createElement("div"),this.el.appendChild(this.buttongroup),this.update(),this.set_button_style()}update(e){const t=this.model.get("_options_labels"),s=this.model.get("icons")||[],i=this.model.previous("icons")||[],a=yt.classMap[this.model.previous("button_style")]||"",l=this.model.get("tooltips")||[],o=this.model.get("disabled"),r=this.buttongroup.querySelectorAll("button"),d=Array.from(r).map((e=>e.value));let u=!1;for(let e=0,a=t.length;e<a;++e)if(d[e]!==t[e]||s[e]!==i[e]){u=!0;break}return!u||void 0!==e&&e.updated_view===this||(this.buttongroup.textContent="",t.forEach(((e,t)=>{let i;i=0!==e.trim().length||s[t]&&0!==s[t].trim().length?n(e):"&nbsp;";const r=document.createElement("i"),d=document.createElement("button");s[t]&&(r.className="fa fa-"+s[t]),d.setAttribute("type","button"),d.className="widget-toggle-button jupyter-button",a&&d.classList.add(a),d.innerHTML=i,d.setAttribute("data-value",encodeURIComponent(e)),d.setAttribute("value",t.toString()),d.appendChild(r),d.disabled=o,l[t]&&d.setAttribute("title",l[t]),this.update_style_traits(d),this.buttongroup.appendChild(d)}))),t.forEach(((e,t)=>{const s='[data-value="'+encodeURIComponent(e)+'"]',i=this.buttongroup.querySelector(s);this.model.get("index")===t?i.classList.add("mod-active"):i.classList.remove("mod-active")})),this.stylePromise.then((function(e){e&&e.style()})),super.update(e)}update_style_traits(e){for(const t in this._css_state)if(Object.prototype.hasOwnProperty.call(this._css_state,"name"))if("margin"===t)this.buttongroup.style[t]=this._css_state[t];else if("width"!==t)if(e)e.style[t]=this._css_state[t];else{const e=this.buttongroup.querySelectorAll("button");e.length&&(e[0].style[t]=this._css_state[t])}}update_button_style(){const e=this.buttongroup.querySelectorAll("button");for(let t=0;t<e.length;t++)this.update_mapped_classes(yt.classMap,"button_style",e[t])}set_button_style(){const e=this.buttongroup.querySelectorAll("button");for(let t=0;t<e.length;t++)this.set_mapped_classes(yt.classMap,"button_style",e[t])}events(){return{"click button":"_handle_click"}}_handle_click(e){const t=e.target;this.model.set("index",parseInt(t.value,10),{updated_view:this}),this.touch(),this.send({event:"click"})}}!function(e){e.classMap={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]}}(yt||(yt={}));class St extends ct{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})}}class Ct extends u{render(){super.render(),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-slider"),this.$slider=document.createElement("div"),this.$slider.classList.add("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.style.display="none",this.createSlider(),this.model.on("change:orientation",this.regenSlider,this),this.model.on("change:index",this.updateSliderValue,this),this.update()}update(e){if((null==e?void 0:e.updated_view)!==this){this.updateSliderOptions(this.model);const e=this.model.get("orientation");this.model.get("disabled")?(this.readout.contentEditable="false",this.$slider.setAttribute("disabled",!0)):(this.readout.contentEditable="true",this.$slider.removeAttribute("disabled")),"vertical"===e?(this.el.classList.remove("widget-hslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-vslider"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-inline-hbox"));const t=this.model.get("readout");this.readout.style.display=t?"":"none",this.updateSelection()}return super.update(e)}regenSlider(e){this.$slider.noUiSlider.destroy(),this.createSlider()}createSlider(){const e=this.model.get("_options_labels").length-1,t=this.model.get("orientation"),s=this.model.get("behavior");Ve().create(this.$slider,{start:this.model.get("index"),connect:!0,behaviour:s,range:{min:0,max:e},step:1,animate:!1,orientation:t,direction:"horizontal"===t?"ltr":"rtl",format:{from:e=>Number(e),to:e=>Math.round(e)}}),this.$slider.noUiSlider.on("update",((e,t)=>{this.handleSliderUpdateEvent(e,t)})),this.$slider.noUiSlider.on("change",((e,t)=>{this.handleSliderChangeEvent(e,t)}))}events(){return{slide:"handleSliderChange",slidestop:"handleSliderChanged"}}updateSelection(){const e=this.model.get("index");this.updateReadout(e)}updateReadout(e){const t=this.model.get("_options_labels")[e];this.readout.textContent=t}handleSliderUpdateEvent(e,t){const s=e[0];this.updateReadout(s),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChangeEvent(e,t){const s=e[0];this.updateReadout(s),this.handleSliderChanged(e,t)}handleSliderChanged(e,t){const s=e[0];this.updateReadout(s),this.model.set("index",s,{updated_view:this}),this.touch()}updateSliderOptions(e){const t=this.model.get("_options_labels").length-1;this.$slider.noUiSlider.updateOptions({start:this.model.get("index"),range:{min:0,max:t},step:1})}updateSliderValue(e,t,s){if(s.updated_view===this)return;const i=this.$slider.noUiSlider.get(),a=this.model.get("index");i!==a&&this.$slider.noUiSlider.set(a)}}class Mt extends ct{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"MultipleSelectionModel"})}}class kt extends Mt{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectMultipleModel",_view_name:"SelectMultipleView",rows:null})}}class jt extends ft{initialize(e){super.initialize(e),this.listbox.multiple=!0}render(){super.render(),this.el.classList.add("widget-select-multiple")}updateSelection(){const e=this.model.get("index")||[],t=this.listbox.options;this.listbox.selectedIndex=-1,e.forEach((e=>{t[e].selected=!0}))}_handle_change(){const e=Array.prototype.map.call(this.listbox.selectedOptions||[],(function(e){return e.index}));this.model.set("index",e,{updated_view:this}),this.touch()}}class Tt extends Mt{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})}}class Ot extends Ct{render(){super.render()}updateSelection(e){e=e||this.model.get("index"),this.updateReadout(e)}updateReadout(e){const t=this.model.get("_options_labels"),s=t[e[0]],i=t[e[1]];this.readout.textContent=`${s}-${i}`}handleSliderUpdateEvent(e,t){const s=e.map(Math.trunc);this.updateReadout(s),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)}handleSliderChanged(e,t){const s=e.map(Math.round);this.updateReadout(s),this.model.set("index",s.slice(),{updated_view:this}),this.touch()}updateSliderValue(e,t,s){if(s.updated_view===this)return;const i=this.$slider.noUiSlider.get().map(Math.round),a=this.model.get("index").map(Math.round);i[0]===a[0]&&i[1]===a[1]||this.$slider.noUiSlider.set(a)}}var Lt=s(4947),Vt=s(94812);class Et extends E.Panel{constructor(){super(...arguments),this._widgetRemoved=new Lt.Signal(this)}get widgetRemoved(){return this._widgetRemoved}onChildRemoved(e){this._widgetRemoved.emit(e.child)}}class Pt extends E.Widget{constructor(e={}){super(),this._currentChanged=new Lt.Signal(this),this.addClass("jupyter-widget-TabPanel"),this.tabBar=new E.TabBar(e),this.tabBar.addClass("jupyter-widget-TabPanel-tabBar"),this.tabContents=new Et,this.tabContents.addClass("jupyter-widget-TabPanel-tabContents"),this.tabBar.tabMoved.connect(this._onTabMoved,this),this.tabBar.currentChanged.connect(this._onCurrentChanged,this),this.tabBar.tabCloseRequested.connect(this._onTabCloseRequested,this),this.tabBar.tabActivateRequested.connect(this._onTabActivateRequested,this),this.tabContents.widgetRemoved.connect(this._onWidgetRemoved,this);const t=new E.PanelLayout;t.addWidget(this.tabBar),t.addWidget(this.tabContents),this.layout=t}get currentChanged(){return this._currentChanged}get currentIndex(){const e=this.tabBar.currentIndex;return-1===e?null:e}set currentIndex(e){this.tabBar.currentIndex=null===e?-1:e}get currentWidget(){const e=this.tabBar.currentTitle;return e?e.owner:null}set currentWidget(e){this.tabBar.currentTitle=e?e.title:null}get tabsMovable(){return this.tabBar.tabsMovable}set tabsMovable(e){this.tabBar.tabsMovable=e}get widgets(){return this.tabContents.widgets}addWidget(e){this.insertWidget(this.widgets.length,e)}insertWidget(e,t){t!==this.currentWidget&&t.hide(),this.tabContents.insertWidget(e,t),this.tabBar.insertTab(e,t.title)}_onCurrentChanged(e,t){const{previousIndex:s,previousTitle:i,currentIndex:a,currentTitle:n}=t,l=i?i.owner:null,o=n?n.owner:null;l&&l.hide(),o&&o.show(),this._currentChanged.emit({previousIndex:s,previousWidget:l,currentIndex:a,currentWidget:o}),(Vt.Platform.IS_EDGE||Vt.Platform.IS_IE)&&V.MessageLoop.flush()}_onTabActivateRequested(e,t){t.title.owner.activate()}_onTabCloseRequested(e,t){t.title.owner.close()}_onTabMoved(e,t){this.tabContents.insertWidget(t.toIndex,t.title.owner)}_onWidgetRemoved(e,t){this.tabBar.removeTab(t.title)}}class At{constructor(e,t={}){this._array=null,this._value=null,this._previousValue=null,this._selectionChanged=new Lt.Signal(this),this._array=e,this._insertBehavior=t.insertBehavior||"select-item-if-needed",this._removeBehavior=t.removeBehavior||"select-item-after"}get selectionChanged(){return this._selectionChanged}adjustSelectionForSet(e){const t=this.index,s=this.value;if(e!==t)return;this._updateSelectedValue();const i=this.value;this._previousValue=null,s!==i&&this._selectionChanged.emit({previousIndex:t,previousValue:s,currentIndex:t,currentValue:i})}get value(){return this._value}set value(e){null===e||null===this._array?this.index=null:this.index=L.ArrayExt.firstIndexOf(this._array,e)}get index(){return this._index}set index(e){let t;if(null!==e&&null!==this._array?(t=Math.floor(e),(t<0||t>=this._array.length)&&(t=null)):t=null,this._index===t)return;const s=this._index,i=this._value;this._index=t,this._updateSelectedValue(),this._previousValue=i,this._selectionChanged.emit({previousIndex:s,previousValue:i,currentIndex:t,currentValue:this._value})}get insertBehavior(){return this._insertBehavior}set insertBehavior(e){this._insertBehavior=e}get removeBehavior(){return this._removeBehavior}set removeBehavior(e){this._removeBehavior=e}adjustSelectionForInsert(e,t){const s=this._value,i=this._index,a=this._insertBehavior;if("select-item"===a||"select-item-if-needed"===a&&null===i)return this._index=e,this._value=t,this._previousValue=s,void this._selectionChanged.emit({previousIndex:i,previousValue:s,currentIndex:e,currentValue:t});null!==i&&i>=e&&this._index++}clearSelection(){const e=this._index,t=this._value;this._index=null,this._value=null,this._previousValue=null,null!==e&&this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value})}adjustSelectionForRemove(e,t){if(null===this._index)return;const s=this._index,i=this._removeBehavior;if(s===e){if(!this._array||0===this._array.length)return this._index=null,this._value=null,this._previousValue=null,void this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value});if("select-item-after"===i)return this._index=Math.min(e,this._array.length-1),this._updateSelectedValue(),this._previousValue=null,void this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value});if("select-item-before"===i)return this._index=Math.max(0,e-1),this._updateSelectedValue(),this._previousValue=null,void this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value});if("select-previous-item"===i)return this._previousValue?this.value=this._previousValue:(this._index=Math.min(e,this._array.length-1),this._updateSelectedValue()),this._previousValue=null,void this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this.value});this._index=null,this._value=null,this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value})}else s>e&&this._index--}_updateSelectedValue(){const e=this._index;this._value=null!==e&&this._array?this._array[e]:null}}const It="jupyter-widget-Collapse-open";class Nt extends E.Widget{constructor(e){super(e),this._collapseChanged=new Lt.Signal(this),this.addClass("jupyter-widget-Collapse"),this._header=new E.Widget,this._header.addClass("jupyter-widget-Collapse-header"),this._header.node.addEventListener("click",this);const t=document.createElement("i");t.classList.add("fa","fa-fw","fa-caret-right"),this._header.node.appendChild(t),this._header.node.appendChild(document.createElement("span")),this._content=new E.Panel,this._content.addClass("jupyter-widget-Collapse-contents");const s=new E.PanelLayout;this.layout=s,s.addWidget(this._header),s.addWidget(this._content),e.widget&&(this.widget=e.widget),this.collapsed=!1}dispose(){this.isDisposed||(super.dispose(),this._header=null,this._widget=null,this._content=null)}get widget(){return this._widget}set widget(e){const t=this._widget;t&&(t.disposed.disconnect(this._onChildDisposed,this),t.title.changed.disconnect(this._onTitleChanged,this),t.parent=null),this._widget=e,e.disposed.connect(this._onChildDisposed,this),e.title.changed.connect(this._onTitleChanged,this),this._onTitleChanged(e.title),this._content.addWidget(e)}get collapsed(){return this._collapsed}set collapsed(e){e!==this._collapsed&&(e?this._collapse():this._uncollapse())}toggle(){this.collapsed=!this.collapsed}get collapseChanged(){return this._collapseChanged}_collapse(){this._collapsed=!0,this._content&&this._content.hide(),this.removeClass(It),this._header.node.children[0].classList.add("fa-caret-right"),this._header.node.children[0].classList.remove("fa-caret-down"),this._collapseChanged.emit(void 0)}_uncollapse(){this._collapsed=!1,this._content&&this._content.show(),this.addClass(It),this._header.node.children[0].classList.add("fa-caret-down"),this._header.node.children[0].classList.remove("fa-caret-right"),this._collapseChanged.emit(void 0)}handleEvent(e){"click"===e.type&&this._evtClick(e)}_evtClick(e){this.toggle()}_onTitleChanged(e){this._header.node.children[1].textContent=this._widget.title.label}_onChildDisposed(e){this.dispose()}}const zt="jupyter-widget-Accordion-child-active";class Dt extends E.Panel{constructor(e){super(e),this._selection=new At(this.widgets),this._selection.selectionChanged.connect(this._onSelectionChanged,this),this.addClass("jupyter-widget-Accordion")}get collapseWidgets(){return this.layout.widgets}get selection(){return this._selection}indexOf(e){return L.ArrayExt.findFirstIndex(this.collapseWidgets,(t=>t.widget===e))}addWidget(e){const t=this._wrapWidget(e);return t.collapsed=!0,super.addWidget(t),this._selection.adjustSelectionForInsert(this.widgets.length-1,t),t}insertWidget(e,t){const s=this._wrapWidget(t);s.collapsed=!0,super.insertWidget(e,s),this._selection.adjustSelectionForInsert(e,s)}removeWidget(e){const t=this.indexOf(e);if(t>=0){const s=this.collapseWidgets[t];e.parent=null,s.dispose(),this._selection.adjustSelectionForRemove(t,null)}}_wrapWidget(e){const t=new Nt({widget:e});return t.addClass("jupyter-widget-Accordion-child"),t.collapseChanged.connect(this._onCollapseChange,this),t}_onCollapseChange(e){e.collapsed?this._selection.value===e&&e.collapsed&&(this._selection.value=null):this._selection.value=e}_onSelectionChanged(e,t){const s=t.previousValue,i=t.currentValue;s&&(s.collapsed=!0,s.removeClass(zt)),i&&(i.collapsed=!1,i.addClass(zt))}}class Wt extends I{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"SelectionContainerModel",selected_index:null,titles:[]})}}class Bt extends Wt{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"AccordionModel",_view_name:"AccordionView"})}}class Ut extends Dt{constructor(e){const t=e.view;delete e.view,super(e),this._view=t}processMessage(e){var t;super.processMessage(e),null===(t=this._view)||void 0===t||t.processLuminoMessage(e)}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}}class $t extends i.DOMWidgetView{_createElement(e){return this.luminoWidget=new Ut({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=A()(this.luminoWidget.node)}initialize(e){super.initialize(e),this.children_views=new i.ViewList(this.add_child_view,this.remove_child_view,this),this.listenTo(this.model,"change:children",(()=>this.updateChildren())),this.listenTo(this.model,"change:selected_index",(()=>this.update_selected_index())),this.listenTo(this.model,"change:titles",(()=>this.update_titles()))}render(){var e;super.render();const t=this.luminoWidget;t.addClass("jupyter-widgets"),t.addClass("widget-accordion"),t.addClass("widget-container"),t.selection.selectionChanged.connect((e=>{this.updatingChildren||(this.model.set("selected_index",t.selection.index),this.touch())})),null===(e=this.children_views)||void 0===e||e.update(this.model.get("children")),this.update_titles(),this.update_selected_index()}updateChildren(){var e;this.updatingChildren=!0,this.luminoWidget.selection.index=null,null===(e=this.children_views)||void 0===e||e.update(this.model.get("children")),this.update_selected_index(),this.updatingChildren=!1}update_titles(){const e=this.luminoWidget.collapseWidgets,t=this.model.get("titles");for(let s=0;s<e.length;s++)void 0!==t[s]&&(e[s].widget.title.label=t[s])}update_selected_index(){this.luminoWidget.selection.index=this.model.get("selected_index")}remove_child_view(e){this.luminoWidget.removeWidget(e.luminoWidget),e.remove()}add_child_view(e,t){const s=this.luminoWidget,a=new E.Widget;return a.title.label=this.model.get("titles")[t]||"",s.addWidget(a),this.create_child_view(e).then((e=>{const t=e.luminoWidget;return t.title.label=a.title.label,s.collapseWidgets[s.indexOf(a)].widget=t,a.dispose(),e})).catch((0,i.reject)("Could not add child view to box",!0))}remove(){this.children_views=null,super.remove()}}class Rt extends Wt{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"TabModel",_view_name:"TabView"})}}class Ft extends Pt{constructor(e){const t=e.view;delete e.view,super(e),this._view=t,V.MessageLoop.installMessageHook(this.tabContents,((e,t)=>(this._view.processLuminoMessage(t),!0)))}dispose(){this.isDisposed||(super.dispose(),this._view.remove(),this._view=null)}}class Ht extends i.DOMWidgetView{constructor(){super(...arguments),this.updatingTabs=!1}_createElement(e){return this.luminoWidget=new Ft({view:this}),this.luminoWidget.node}_setElement(e){if(this.el||e!==this.luminoWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.luminoWidget.node,this.$el=A()(this.luminoWidget.node)}initialize(e){super.initialize(e),this.childrenViews=new i.ViewList(this.addChildView,(e=>{e.remove()}),this),this.listenTo(this.model,"change:children",(()=>this.updateTabs())),this.listenTo(this.model,"change:titles",(()=>this.updateTitles()))}render(){super.render();const e=this.luminoWidget;e.addClass("jupyter-widgets"),e.addClass("widget-container"),e.addClass("widget-tab"),e.tabsMovable=!0,e.tabBar.insertBehavior="none",e.tabBar.currentChanged.connect(this._onTabChanged,this),e.tabBar.tabMoved.connect(this._onTabMoved,this),e.tabBar.addClass("widget-tab-bar"),e.tabContents.addClass("widget-tab-contents"),e.tabBar.tabsMovable=!1,this.updateTabs(),this.update()}updateTabs(){var e;this.updatingTabs=!0,this.luminoWidget.currentIndex=null,null===(e=this.childrenViews)||void 0===e||e.update(this.model.get("children")),this.luminoWidget.currentIndex=this.model.get("selected_index"),this.updatingTabs=!1}addChildView(e,t){const s=this.model.get("titles")[t]||"",a=this.luminoWidget,n=new E.Widget;return n.title.label=s,a.addWidget(n),this.create_child_view(e).then((e=>{const t=e.luminoWidget;t.title.label=n.title.label,t.title.closable=!1;const s=L.ArrayExt.firstIndexOf(a.widgets,n);return a.insertWidget(s+1,t),n.dispose(),e})).catch((0,i.reject)("Could not add child view to box",!0))}update(){return this.updateSelectedIndex(),super.update()}updateTitles(){const e=this.model.get("titles")||[];(0,L.each)(this.luminoWidget.widgets,((t,s)=>{t.title.label=e[s]||""}))}updateSelectedIndex(){this.luminoWidget.currentIndex=this.model.get("selected_index")}remove(){this.childrenViews=null,super.remove()}_onTabChanged(e,t){if(!this.updatingTabs){const e=t.currentIndex;this.model.set("selected_index",-1===e?null:e),this.touch()}}_onTabMoved(e,t){const s=this.model.get("children").slice();L.ArrayExt.move(s,t.fromIndex,t.toIndex),this.model.set("children",s),this.touch()}}class qt extends Wt{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"StackModel",_view_name:"StackView"})}}class Kt extends D{initialize(e){super.initialize(e),this.listenTo(this.model,"change:selected_index",this.update_children)}update_children(){var e;let t;t=null===this.model.get("selected_index")?[]:[this.model.get("children")[this.model.get("selected_index")]],null===(e=this.children_views)||void 0===e||e.update(t).then((e=>{e.forEach((e=>{V.MessageLoop.postMessage(e.luminoWidget,E.Widget.ResizeMessage.UnknownSize)}))}))}}function Yt(e,t,s){e.prototype=t.prototype=s,s.constructor=e}function Jt(e,t){var s=Object.create(e.prototype);for(var i in t)s[i]=t[i];return s}function Gt(){}var Xt=.7,Qt=1/Xt,Zt="\\s*([+-]?\\d+)\\s*",es="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ts="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ss=/^#([0-9a-f]{3,8})$/,is=new RegExp(`^rgb\\(${Zt},${Zt},${Zt}\\)$`),as=new RegExp(`^rgb\\(${ts},${ts},${ts}\\)$`),ns=new RegExp(`^rgba\\(${Zt},${Zt},${Zt},${es}\\)$`),ls=new RegExp(`^rgba\\(${ts},${ts},${ts},${es}\\)$`),os=new RegExp(`^hsl\\(${es},${ts},${ts}\\)$`),rs=new RegExp(`^hsla\\(${es},${ts},${ts},${es}\\)$`),ds={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function us(){return this.rgb().formatHex()}function hs(){return this.rgb().formatRgb()}function cs(e){var t,s;return e=(e+"").trim().toLowerCase(),(t=ss.exec(e))?(s=t[1].length,t=parseInt(t[1],16),6===s?ps(t):3===s?new ms(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===s?gs(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===s?gs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=is.exec(e))?new ms(t[1],t[2],t[3],1):(t=as.exec(e))?new ms(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ns.exec(e))?gs(t[1],t[2],t[3],t[4]):(t=ls.exec(e))?gs(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=os.exec(e))?ws(t[1],t[2]/100,t[3]/100,1):(t=rs.exec(e))?ws(t[1],t[2]/100,t[3]/100,t[4]):ds.hasOwnProperty(e)?ps(ds[e]):"transparent"===e?new ms(NaN,NaN,NaN,0):null}function ps(e){return new ms(e>>16&255,e>>8&255,255&e,1)}function gs(e,t,s,i){return i<=0&&(e=t=s=NaN),new ms(e,t,s,i)}function ms(e,t,s,i){this.r=+e,this.g=+t,this.b=+s,this.opacity=+i}function bs(){return`#${xs(this.r)}${xs(this.g)}${xs(this.b)}`}function fs(){const e=_s(this.opacity);return`${1===e?"rgb(":"rgba("}${vs(this.r)}, ${vs(this.g)}, ${vs(this.b)}${1===e?")":`, ${e})`}`}function _s(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xs(e){return((e=vs(e))<16?"0":"")+e.toString(16)}function ws(e,t,s,i){return i<=0?e=t=s=NaN:s<=0||s>=1?e=t=NaN:t<=0&&(e=NaN),new Ss(e,t,s,i)}function ys(e){if(e instanceof Ss)return new Ss(e.h,e.s,e.l,e.opacity);if(e instanceof Gt||(e=cs(e)),!e)return new Ss;if(e instanceof Ss)return e;var t=(e=e.rgb()).r/255,s=e.g/255,i=e.b/255,a=Math.min(t,s,i),n=Math.max(t,s,i),l=NaN,o=n-a,r=(n+a)/2;return o?(l=t===n?(s-i)/o+6*(s<i):s===n?(i-t)/o+2:(t-s)/o+4,o/=r<.5?n+a:2-n-a,l*=60):o=r>0&&r<1?0:l,new Ss(l,o,r,e.opacity)}function Ss(e,t,s,i){this.h=+e,this.s=+t,this.l=+s,this.opacity=+i}function Cs(e){return(e=(e||0)%360)<0?e+360:e}function Ms(e){return Math.max(0,Math.min(1,e||0))}function ks(e,t,s){return 255*(e<60?t+(s-t)*e/60:e<180?s:e<240?t+(s-t)*(240-e)/60:t)}function js(e){for(;e.firstChild;)e.removeChild(e.firstChild)}Yt(Gt,cs,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:us,formatHex:us,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return ys(this).formatHsl()},formatRgb:hs,toString:hs}),Yt(ms,(function(e,t,s,i){return 1===arguments.length?((a=e)instanceof Gt||(a=cs(a)),a?new ms((a=a.rgb()).r,a.g,a.b,a.opacity):new ms):new ms(e,t,s,null==i?1:i);var a}),Jt(Gt,{brighter(e){return e=null==e?Qt:Math.pow(Qt,e),new ms(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Xt:Math.pow(Xt,e),new ms(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ms(vs(this.r),vs(this.g),vs(this.b),_s(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bs,formatHex:bs,formatHex8:function(){return`#${xs(this.r)}${xs(this.g)}${xs(this.b)}${xs(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:fs,toString:fs})),Yt(Ss,(function(e,t,s,i){return 1===arguments.length?ys(e):new Ss(e,t,s,null==i?1:i)}),Jt(Gt,{brighter(e){return e=null==e?Qt:Math.pow(Qt,e),new Ss(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Xt:Math.pow(Xt,e),new Ss(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,s=this.l,i=s+(s<.5?s:1-s)*t,a=2*s-i;return new ms(ks(e>=240?e-240:e+120,a,i),ks(e,a,i),ks(e<120?e+240:e-120,a,i),this.opacity)},clamp(){return new Ss(Cs(this.h),Ms(this.s),Ms(this.l),_s(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=_s(this.opacity);return`${1===e?"hsl(":"hsla("}${Cs(this.h)}, ${100*Ms(this.s)}%, ${100*Ms(this.l)}%${1===e?")":`, ${e})`}`}}));class Ts{constructor(e,t,s){this.start=e,this.dx=t,this.max=s}isSelected(e){let t,s;return this.dx>=0?(t=this.start,s=this.start+this.dx):(t=this.start+this.dx,s=this.start),t<=e&&e<s}updateSelection(e){this.dx+=e,this.start+this.dx>this.max&&(this.dx=this.max-this.start),this.start+this.dx<0&&(this.dx=-this.start)}}class Os extends g{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],placeholder:"​",allowed_tags:null,allow_duplicates:!0})}}class Ls extends i.DOMWidgetView{constructor(){super(...arguments),this.hoveredTag=null,this.hoveredTagIndex=null}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-widget-tagsinput"),this.taginputWrapper=document.createElement("div"),this.model.get("value").length?this.taginputWrapper.style.display="none":this.taginputWrapper.style.display="inline-block",this.datalistID=(0,i.uuid)(),this.taginput=document.createElement("input"),this.taginput.classList.add("jupyter-widget-tag"),this.taginput.classList.add("jupyter-widget-taginput"),this.taginput.setAttribute("list",this.datalistID),this.taginput.setAttribute("type","text"),this.autocompleteList=document.createElement("datalist"),this.autocompleteList.id=this.datalistID,this.updateAutocomplete(),this.model.on("change:allowed_tags",this.updateAutocomplete.bind(this)),this.updatePlaceholder(),this.model.on("change:placeholder",this.updatePlaceholder.bind(this)),this.taginputWrapper.classList.add("widget-text"),this.taginputWrapper.appendChild(this.taginput),this.taginputWrapper.appendChild(this.autocompleteList),this.el.onclick=this.focus.bind(this),this.el.ondrop=e=>{const t=null==this.hoveredTagIndex?this.tags.length:this.hoveredTagIndex;return this.ondrop(e,t)},this.el.ondragover=this.ondragover.bind(this),this.taginput.onchange=this.handleValueAdded.bind(this),this.taginput.oninput=this.resizeInput.bind(this),this.taginput.onkeydown=this.handleKeyEvent.bind(this),this.taginput.onblur=this.loseFocus.bind(this),this.resizeInput(),this.inputIndex=this.model.get("value").length,this.selection=null,this.preventLoosingFocus=!1,this.update()}update(){this.preventLoosingFocus=!0,js(this.el),this.tags=[];const e=this.model.get("value");for(const t in e){const s=parseInt(t),i=this.createTag(e[s],s,null!=this.selection&&this.selection.isSelected(s));i.draggable=!0,i.ondragstart=((e,t)=>s=>{this.ondragstart(s,e,t,this.model.model_id)})(s,e[s]),i.ondrop=(e=>t=>{this.ondrop(t,e)})(s),i.ondragover=this.ondragover.bind(this),i.ondragenter=(e=>t=>{this.ondragenter(t,e)})(s),i.ondragend=this.ondragend.bind(this),this.tags.push(i),this.el.appendChild(i)}return this.el.insertBefore(this.taginputWrapper,this.el.children[this.inputIndex]),this.model.get("value").length?this.taginputWrapper.style.display="none":this.taginputWrapper.style.display="inline-block",this.preventLoosingFocus=!1,super.update()}updateAutocomplete(){js(this.autocompleteList);const e=this.model.get("allowed_tags");for(const t of e){const e=document.createElement("option");e.value=t,this.autocompleteList.appendChild(e)}}updatePlaceholder(){this.taginput.placeholder=this.model.get("placeholder"),this.resizeInput()}updateTags(){const e=this.model.get("value");for(const t in this.tags){const s=parseInt(t);this.updateTag(this.tags[s],e[s],s,null!=this.selection&&this.selection.isSelected(s))}}handleValueAdded(e){const t=this.taginput.value.replace(/^\s+|\s+$/g,""),s=this.inputIndex;""!=t&&(this.inputIndex++,this.addTag(s,t)&&(this.taginput.value="",this.resizeInput(),this.focus()))}addTag(e,t){const s=this.model.get("value");let i;try{i=this.validateValue(t)}catch(e){return!1}const a=this.model.get("allowed_tags");if(a.length&&!a.includes(i))return!1;if(!this.model.get("allow_duplicates")&&s.includes(i))return!1;this.selection=null;const n=[...s];return n.splice(e,0,i),this.model.set("value",n),this.model.save_changes(),!0}resizeInput(){let e;e=0!=this.taginput.value.length?this.taginput.value:this.model.get("placeholder");const t=e.length+1;this.taginput.setAttribute("size",String(t))}handleKeyEvent(e){const t=this.model.get("value").length;if(this.taginput.value.length)return;const s=this.inputIndex;switch(e.key){case"ArrowLeft":e.ctrlKey&&e.shiftKey&&this.select(s,-s),!e.ctrlKey&&e.shiftKey&&this.select(s,-1),e.ctrlKey?this.inputIndex=0:this.inputIndex--;break;case"ArrowRight":e.ctrlKey&&e.shiftKey&&this.select(s,t-s),!e.ctrlKey&&e.shiftKey&&this.select(s,1),e.ctrlKey?this.inputIndex=t:this.inputIndex++;break;case"Backspace":this.selection?this.removeSelectedTags():this.removeTag(this.inputIndex-1);break;case"Delete":this.selection?this.removeSelectedTags():this.removeTag(this.inputIndex);break;default:return}var i,a;e.shiftKey||(this.selection=null),this.inputIndex=(i=this.inputIndex,0,a=t,Math.min(Math.max(i,0),a)),this.update(),this.focus()}ondragstart(e,t,s,i){null!=e.dataTransfer&&(e.dataTransfer.setData("index",String(t)),e.dataTransfer.setData("tagValue",String(s)),e.dataTransfer.setData("origin",i))}ondrop(e,t){if(null==e.dataTransfer)return;e.preventDefault(),e.stopPropagation();const s=e.dataTransfer.getData("tagValue"),i=parseInt(e.dataTransfer.getData("index")),a=e.dataTransfer.getData("origin")==this.model.model_id;if(!isNaN(i)){if(a){const e=[...this.model.get("value")];return i<t&&t--,e.splice(i,1),e.splice(t,0,s),this.model.set("value",e),void this.model.save_changes()}this.addTag(t,s)}}ondragover(e){e.preventDefault()}ondragenter(e,t){null!=this.hoveredTag&&this.hoveredTag!=this.tags[t]&&(this.hoveredTag.style.marginLeft="1px"),this.hoveredTag=this.tags[t],this.hoveredTagIndex=t,this.hoveredTag.style.marginLeft="30px"}ondragend(){null!=this.hoveredTag&&(this.hoveredTag.style.marginLeft="1px"),this.hoveredTag=null,this.hoveredTagIndex=null}select(e,t){const s=this.model.get("value").length;this.selection?this.selection.updateSelection(t):this.selection=new Ts(e,t,s)}removeSelectedTags(){const e=[...this.model.get("value")];for(let t=e.length-1;t>=0;t--)null!=this.selection&&this.selection.isSelected(t)&&(e.splice(t,1),t<this.inputIndex&&this.inputIndex--);this.model.set("value",e),this.model.save_changes()}removeTag(e){const t=[...this.model.get("value")];t.splice(e,1),e<this.inputIndex&&this.inputIndex--,this.model.set("value",t),this.model.save_changes()}focus(){this.taginputWrapper.style.display="inline-block",this.taginput.focus()}loseFocus(){this.preventLoosingFocus||(this.model.get("value").length&&(this.taginputWrapper.style.display="none"),this.selection=null,this.updateTags())}preinitialize(){this.tagName="div"}validateValue(e){return e}}class Vs extends Os{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],tag_style:"",_view_name:"TagsInputView",_model_name:"TagsInputModel"})}}class Es extends Ls{createTag(e,t,s){const i=document.createElement("div"),a=this.model.get("tag_style");i.classList.add("jupyter-widget-tag"),i.classList.add(Es.class_map[a]),s&&i.classList.add("mod-active"),i.appendChild(document.createTextNode(this.getTagText(e)));const n=document.createElement("i");return n.classList.add("fa"),n.classList.add("fa-times"),n.classList.add("jupyter-widget-tag-close"),i.appendChild(n),n.onmousedown=(e=>()=>{this.removeTag(e),this.loseFocus()})(t),i}getTagText(e){return e}updateTag(e,t,s,i){i?e.classList.add("mod-active"):e.classList.remove("mod-active")}}Es.class_map={primary:"mod-primary",success:"mod-success",info:"mod-info",warning:"mod-warning",danger:"mod-danger"};class Ps extends Os{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:[],_view_name:"ColorsInputView",_model_name:"ColorsInputModel"})}}class As extends Ls{createTag(e,t,s){const i=document.createElement("div"),a=e,n=cs(e).darker().toString();i.classList.add("jupyter-widget-tag"),i.classList.add("jupyter-widget-colortag"),s?(i.classList.add("mod-active"),i.style.backgroundColor=n):i.style.backgroundColor=a;const l=document.createElement("i");return l.classList.add("fa"),l.classList.add("fa-times"),l.classList.add("jupyter-widget-tag-close"),i.appendChild(l),l.onmousedown=(e=>()=>{this.removeTag(e),this.loseFocus()})(t),i}updateTag(e,t,s,i){const a=t,n=cs(t).darker().toString();i?(e.classList.add("mod-active"),e.style.backgroundColor=n):(e.classList.remove("mod-active"),e.style.backgroundColor=a)}validateValue(e){if(null==cs(e))throw e+" is not a valid Color";return e}}class Is extends Vs{defaults(){return Object.assign(Object.assign({},super.defaults()),{min:null,max:null})}}class Ns extends Es{render(){this.model.on("change:format",(()=>{this.formatter=je(this.model.get("format")),this.update()})),this.formatter=je(this.model.get("format")),super.render()}getTagText(e){return this.formatter(this.parseNumber(e))}validateValue(e){const t=this.parseNumber(e),s=this.model.get("min"),i=this.model.get("max");if(isNaN(t)||null!=s&&t<s||null!=i&&t>i)throw e+" is not a valid number, it should be in the range ["+s+", "+i+"]";return t}}class zs extends Is{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"FloatsInputView",_model_name:"FloatsInputModel",format:".1f"})}}class Ds extends Ns{parseNumber(e){return parseFloat(e)}}class Ws extends Is{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"IntsInputView",_model_name:"IntsInputModel",format:"d"})}}class Bs extends Ns{parseNumber(e){const t=parseInt(e);if(t!=parseFloat(e))throw e+" should be an integer";return t}}class Us extends r{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"StringStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:o.N})}}Us.styleProperties=Object.assign(Object.assign({},r.styleProperties),{background:{selector:"",attribute:"background",default:null},font_size:{selector:"",attribute:"font-size",default:""},text_color:{selector:"",attribute:"color",default:""}});class $s extends Us{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"HTMLStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:o.N})}}$s.styleProperties=Object.assign({},Us.styleProperties);class Rs extends Us{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"HTMLMathStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:o.N})}}Rs.styleProperties=Object.assign({},Us.styleProperties);class Fs extends Us{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"LabelStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:o.N})}}Fs.styleProperties=Object.assign(Object.assign({},Us.styleProperties),{font_family:{selector:"",attribute:"font-family",default:""},font_style:{selector:"",attribute:"font-style",default:""},font_variant:{selector:"",attribute:"font-variant",default:""},font_weight:{selector:"",attribute:"font-weight",default:""},text_decoration:{selector:"",attribute:"text-decoration",default:""}});class Hs extends r{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"TextStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:o.N})}}Hs.styleProperties=Object.assign(Object.assign({},r.styleProperties),{background:{selector:".widget-input",attribute:"background",default:null},font_size:{selector:".widget-input",attribute:"font-size",default:""},text_color:{selector:".widget-input",attribute:"color",default:""}});class qs extends m{defaults(){return Object.assign(Object.assign({},super.defaults()),{value:"",disabled:!1,placeholder:"​",_model_name:"StringModel"})}}class Ks extends u{render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox")}}class Ys extends qs{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HTMLView",_model_name:"HTMLModel"})}}class Js extends Ks{render(){super.render(),this.el.classList.add("widget-html"),this.content=document.createElement("div"),this.content.classList.add("widget-html-content"),this.el.appendChild(this.content),this.update()}update(){return this.content.innerHTML=this.model.get("value"),super.update()}handle_message(e){"focus"===e.do?this.content.focus():"blur"===e.do&&this.content.blur()}}class Gs extends qs{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"HTMLMathView",_model_name:"HTMLMathModel"})}}class Xs extends Ks{render(){super.render(),this.el.classList.add("widget-htmlmath"),this.content=document.createElement("div"),this.content.classList.add("widget-htmlmath-content"),this.el.appendChild(this.content),this.update()}update(){return this.content.innerHTML=this.model.get("value"),this.typeset(this.content),super.update()}handle_message(e){"focus"===e.do?this.content.focus():"blur"===e.do&&this.content.blur()}}class Qs extends qs{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"LabelView",_model_name:"LabelModel"})}}class Zs extends Ks{render(){super.render(),this.el.classList.add("widget-label"),this.update()}update(){return this.typeset(this.el,this.model.get("value")),super.update()}}class ei extends qs{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"TextareaView",_model_name:"TextareaModel",rows:null,continuous_update:!0})}}class ti extends Ks{render(){super.render(),this.el.classList.add("widget-textarea"),this.textbox=document.createElement("textarea"),this.textbox.setAttribute("rows","5"),this.textbox.id=this.label.htmlFor=(0,i.uuid)(),this.textbox.classList.add("widget-input"),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",((e,t,s)=>{this.update_placeholder(t)})),this.update_placeholder(),this.updateTooltip()}update_placeholder(e){const t=e||this.model.get("placeholder");this.textbox.setAttribute("placeholder",t.toString())}update(e){if(void 0===e||e.updated_view!==this){this.textbox.value=this.model.get("value");let e=this.model.get("rows");null===e&&(e=""),this.textbox.setAttribute("rows",e),this.textbox.disabled=this.model.get("disabled")}return this.updateTabindex(),this.updateTooltip(),super.update()}updateTabindex(){if(!this.textbox)return;const e=this.model.get("tabbable");!0===e?this.textbox.setAttribute("tabIndex","0"):!1===e?this.textbox.setAttribute("tabIndex","-1"):null===e&&this.textbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.textbox)return;const e=this.model.get("tooltip");e?0===this.model.get("description").length&&this.textbox.setAttribute("title",e):this.textbox.removeAttribute("title")}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input textarea":"handleChanging","change textarea":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){e.stopPropagation()}handleChanging(e){this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){const t=e.target;this.model.set("value",t.value,{updated_view:this}),this.touch()}handle_message(e){"focus"===e.do?this.textbox.focus():"blur"===e.do&&this.textbox.blur()}}class si extends qs{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"TextView",_model_name:"TextModel",continuous_update:!0})}}class ii extends Ks{constructor(){super(...arguments),this.inputType="text"}render(){super.render(),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.setAttribute("type",this.inputType),this.textbox.id=this.label.htmlFor=(0,i.uuid)(),this.textbox.classList.add("widget-input"),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",((e,t,s)=>{this.update_placeholder(t)})),this.update_placeholder(),this.updateTabindex(),this.updateTooltip()}update_placeholder(e){this.textbox.setAttribute("placeholder",e||this.model.get("placeholder"))}updateTabindex(){if(!this.textbox)return;const e=this.model.get("tabbable");!0===e?this.textbox.setAttribute("tabIndex","0"):!1===e?this.textbox.setAttribute("tabIndex","-1"):null===e&&this.textbox.removeAttribute("tabIndex")}updateTooltip(){if(!this.textbox)return;const e=this.model.get("tooltip");e?0===this.model.get("description").length&&this.textbox.setAttribute("title",e):this.textbox.removeAttribute("title")}update(e){return void 0!==e&&e.updated_view===this||(this.textbox.value!==this.model.get("value")&&(this.textbox.value=this.model.get("value")),this.textbox.disabled=this.model.get("disabled")),super.update()}events(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input input":"handleChanging","change input":"handleChanged"}}handleKeyDown(e){e.stopPropagation()}handleKeypress(e){e.stopPropagation(),13===e.keyCode&&this.send({event:"submit"})}handleChanging(e){this.model.get("continuous_update")&&this.handleChanged(e)}handleChanged(e){const t=e.target;this.model.set("value",t.value,{updated_view:this}),this.touch()}handle_message(e){"focus"===e.do?this.textbox.focus():"blur"===e.do&&this.textbox.blur()}}class ai extends si{defaults(){return Object.assign(Object.assign({},super.defaults()),{_view_name:"PasswordView",_model_name:"PasswordModel"})}}class ni extends ii{constructor(){super(...arguments),this.inputType="password"}}class li extends si{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"ComboboxModel",_view_name:"ComboboxView",options:[],ensure_options:!1})}}class oi extends ii{constructor(){super(...arguments),this.isInitialRender=!0}render(){this.datalist=document.createElement("datalist"),this.datalist.id=(0,i.uuid)(),super.render(),this.textbox.setAttribute("list",this.datalist.id),this.el.appendChild(this.datalist),this.updateTooltip()}update(e){if(super.update(e),!this.datalist)return;const t=this.isValid(this.model.get("value"));if(this.highlightValidState(t),void 0!==e&&e.updated_view||!this.model.hasChanged("options")&&!this.isInitialRender)return;this.isInitialRender=!1;const s=this.model.get("options"),i=document.createDocumentFragment();for(const e of s){const t=document.createElement("option");t.value=e,i.appendChild(t)}this.datalist.replaceChildren(...i.children)}isValid(e){return!0!==this.model.get("ensure_option")||-1!==this.model.get("options").indexOf(e)}handleChanging(e){const t=e.target,s=this.isValid(t.value);this.highlightValidState(s),s&&super.handleChanging(e)}handleChanged(e){const t=e.target,s=this.isValid(t.value);this.highlightValidState(s),s&&super.handleChanged(e)}handle_message(e){"focus"===e.do?this.textbox.focus():"blur"===e.do&&this.textbox.blur()}highlightValidState(e){this.textbox.classList.toggle("jpwidgets-invalidComboValue",!e)}}class ri extends g{defaults(){return Object.assign(Object.assign({},super.defaults()),{_model_name:"FileUploadModel",_view_name:"FileUploadView",accept:"",description:"Upload",disabled:!1,icon:"upload",button_style:"",multiple:!1,value:[],error:"",style:null})}}ri.serializers=Object.assign(Object.assign({},g.serializers),{value:{serialize:e=>e}});class di extends i.DOMWidgetView{preinitialize(){this.tagName="button"}render(){super.render(),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-upload"),this.el.classList.add("jupyter-button"),this.fileInput=document.createElement("input"),this.fileInput.type="file",this.fileInput.style.display="none",this.el.addEventListener("click",(()=>{this.fileInput.click()})),this.fileInput.addEventListener("click",(()=>{this.fileInput.value=""})),this.fileInput.addEventListener("change",(()=>{var e;const t=[];Array.from(null!==(e=this.fileInput.files)&&void 0!==e?e:[]).forEach((e=>{t.push(new Promise(((t,s)=>{const i=new FileReader;i.onload=()=>{const s=i.result;t({content:s,name:e.name,type:e.type,size:e.size,last_modified:e.lastModified})},i.onerror=()=>{s()},i.onabort=i.onerror,i.readAsArrayBuffer(e)})))})),Promise.all(t).then((e=>{this.model.set({value:e,error:""}),this.touch()})).catch((e=>{console.error("error in file upload: %o",e),this.model.set({error:e}),this.touch()}))})),this.listenTo(this.model,"change:button_style",this.update_button_style),this.set_button_style(),this.update()}update(){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("title",this.model.get("tooltip"));const e=this.model.get("value"),t=`${this.model.get("description")} (${e.length})`,s=this.model.get("icon");if(t.length||s.length){if(this.el.textContent="",s.length){const e=document.createElement("i");e.classList.add("fa"),e.classList.add("fa-"+s),0===t.length&&e.classList.add("center"),this.el.appendChild(e)}this.el.appendChild(document.createTextNode(t))}return this.fileInput.accept=this.model.get("accept"),this.fileInput.multiple=this.model.get("multiple"),super.update()}update_button_style(){this.update_mapped_classes(di.class_map,"button_style",this.el)}set_button_style(){this.set_mapped_classes(di.class_map,"button_style",this.el)}}di.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]};const ui=s(64581).version},64581:e=>{e.exports={name:"@jupyter-widgets/controls",version:"5.0.5",description:"Jupyter interactive widgets",repository:{type:"git",url:"https://github.com/jupyter-widgets/ipywidgets.git"},license:"BSD-3-Clause",author:"Project Jupyter",main:"lib/index.js",typings:"lib/index.d.ts",files:["lib/**/*.d.ts","lib/**/*.js","css/*.css","dist/"],scripts:{build:"npm run build:src && npm run build:css","build:css":"lessc css/nouislider.less css/nouislider.css && postcss --use postcss-import --use postcss-cssnext -o css/widgets.built.css css/widgets.css","build:src":"tsc --build","build:test":"tsc --build test && webpack --config test/webpack.conf.js",clean:"npm run clean:src","clean:src":"rimraf lib && rimraf tsconfig.tsbuildinfo",prepublish:"npm run clean && npm run build",test:"npm run test:unit","test:coverage":"npm run build:test && webpack --config test/webpack-cov.conf.js && karma start test/karma-cov.conf.js","test:unit":"npm run test:unit:firefox && npm run test:unit:chrome","test:unit:chrome":"npm run test:unit:default -- --browsers=Chrome","test:unit:default":"npm run build:test && karma start test/karma.conf.js --log-level debug","test:unit:firefox":"npm run test:unit:default -- --browsers=Firefox","test:unit:firefox:headless":"npm run test:unit:default -- --browsers=FirefoxHeadless","test:unit:ie":"npm run test:unit:default -- --browsers=IE"},dependencies:{"@jupyter-widgets/base":"^6.0.4","@lumino/algorithm":"^1.9.1","@lumino/domutils":"^1.8.1","@lumino/messaging":"^1.10.1","@lumino/signaling":"^1.10.1","@lumino/widgets":"^1.30.0","d3-color":"^3.0.1","d3-format":"^3.0.1",jquery:"^3.1.1",nouislider:"15.4.0"},devDependencies:{"@jupyterlab/services":"^6.0.0","@types/d3-color":"^3.0.2","@types/d3-format":"^3.0.1","@types/expect.js":"^0.3.29","@types/mathjax":"^0.0.37","@types/mocha":"^9.0.0","@types/node":"^17.0.2",chai:"^4.0.0","css-loader":"^6.5.1","expect.js":"^0.3.1","istanbul-instrumenter-loader":"^3.0.1",karma:"^6.3.3","karma-chrome-launcher":"^3.1.0","karma-coverage":"^2.0.3","karma-firefox-launcher":"^2.1.1","karma-ie-launcher":"^1.0.0","karma-mocha":"^2.0.1","karma-mocha-reporter":"^2.2.5","karma-webpack":"^5.0.0",less:"^4.1.2",mocha:"^9.0.0","npm-run-all":"^4.1.5",postcss:"^8.3.2","postcss-cli":"^9.1.0","postcss-cssnext":"^3.1.0","postcss-import":"^14.0.2","postcss-loader":"^6.1.0",rimraf:"^3.0.2",sinon:"^12.0.1","sinon-chai":"^3.3.0","style-loader":"^3.3.1",typescript:"~4.9.4",webpack:"^5.65.0"},gitHead:"80cef4439d02cd4865fcc6e9a00aeef124f95e82"}},6547:function(e,t){!function(e){"use strict";function t(e){return"object"==typeof e&&"function"==typeof e.to}function s(e){e.parentElement.removeChild(e)}function i(e){return null!=e}function a(e){e.preventDefault()}function n(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function l(e,t,s){s>0&&(u(e,t),setTimeout((function(){h(e,t)}),s))}function o(e){return Math.max(Math.min(e,100),0)}function r(e){return Array.isArray(e)?e:[e]}function d(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function u(e,t){e.classList&&!/\s/.test(t)?e.classList.add(t):e.className+=" "+t}function h(e,t){e.classList&&!/\s/.test(t)?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function c(e){var t=void 0!==window.pageXOffset,s="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:s?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:s?e.documentElement.scrollTop:e.body.scrollTop}}function p(e,t){return 100/(t-e)}function g(e,t,s){return 100*t/(e[s+1]-e[s])}function m(e,t){for(var s=1;e>=t[s];)s+=1;return s}function b(e,t,s){if(s>=e.slice(-1)[0])return 100;var i=m(s,e),a=e[i-1],n=e[i],l=t[i-1],o=t[i];return l+function(e,t){return g(e,e[0]<0?t+Math.abs(e[0]):t-e[0],0)}([a,n],s)/p(l,o)}function f(e,t,s,i){if(100===i)return i;var a=m(i,e),n=e[a-1],l=e[a];return s?i-n>(l-n)/2?l:n:t[a-1]?e[a-1]+function(e,t){return Math.round(e/t)*t}(i-e[a-1],t[a-1]):i}var _,v;e.PipsMode=void 0,(v=e.PipsMode||(e.PipsMode={})).Range="range",v.Steps="steps",v.Positions="positions",v.Count="count",v.Values="values",e.PipsType=void 0,(_=e.PipsType||(e.PipsType={}))[_.None=-1]="None",_[_.NoValue=0]="NoValue",_[_.LargeValue=1]="LargeValue",_[_.SmallValue=2]="SmallValue";var x=function(){function e(e,t,s){var i;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[s||!1],this.xNumSteps=[!1],this.snap=t;var a=[];for(Object.keys(e).forEach((function(t){a.push([r(e[t]),t])})),a.sort((function(e,t){return e[0][0]-t[0][0]})),i=0;i<a.length;i++)this.handleEntryPoint(a[i][1],a[i][0]);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)this.handleStepPoint(i,this.xNumSteps[i])}return e.prototype.getDistance=function(e){var t,s=[];for(t=0;t<this.xNumSteps.length-1;t++){var i=this.xNumSteps[t];if(i&&e/i%1!=0)throw new Error("noUiSlider: 'limit', 'margin' and 'padding' of "+this.xPct[t]+"% range must be divisible by step.");s[t]=g(this.xVal,e,t)}return s},e.prototype.getAbsoluteDistance=function(e,t,s){var i,a=0;if(e<this.xPct[this.xPct.length-1])for(;e>this.xPct[a+1];)a++;else e===this.xPct[this.xPct.length-1]&&(a=this.xPct.length-2);s||e!==this.xPct[a+1]||a++,null===t&&(t=[]);var n=1,l=t[a],o=0,r=0,d=0,u=0;for(i=s?(e-this.xPct[a])/(this.xPct[a+1]-this.xPct[a]):(this.xPct[a+1]-e)/(this.xPct[a+1]-this.xPct[a]);l>0;)o=this.xPct[a+1+u]-this.xPct[a+u],t[a+u]*n+100-100*i>100?(r=o*i,n=(l-100*i)/t[a+u],i=1):(r=t[a+u]*o/100*n,n=0),s?(d-=r,this.xPct.length+u>=1&&u--):(d+=r,this.xPct.length-u>=1&&u++),l=t[a+u]*n;return e+d},e.prototype.toStepping=function(e){return b(this.xVal,this.xPct,e)},e.prototype.fromStepping=function(e){return function(e,t,s){if(s>=100)return e.slice(-1)[0];var i=m(s,t),a=e[i-1],n=e[i],l=t[i-1];return function(e,t){return t*(e[1]-e[0])/100+e[0]}([a,n],(s-l)*p(l,t[i]))}(this.xVal,this.xPct,e)},e.prototype.getStep=function(e){return f(this.xPct,this.xSteps,this.snap,e)},e.prototype.getDefaultStep=function(e,t,s){var i=m(e,this.xPct);return(100===e||t&&e===this.xPct[i-1])&&(i=Math.max(i-1,1)),(this.xVal[i]-this.xVal[i-1])/s},e.prototype.getNearbySteps=function(e){var t=m(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t],step:this.xNumSteps[t],highestStep:this.xHighestCompleteStep[t]}}},e.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(d);return Math.max.apply(null,e)},e.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},e.prototype.convert=function(e){return this.getStep(this.toStepping(e))},e.prototype.handleEntryPoint=function(e,t){var s;if(!n(s="min"===e?0:"max"===e?100:parseFloat(e))||!n(t[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(s),this.xVal.push(t[0]);var i=Number(t[1]);s?this.xSteps.push(!isNaN(i)&&i):isNaN(i)||(this.xSteps[0]=i),this.xHighestCompleteStep.push(0)},e.prototype.handleStepPoint=function(e,t){if(t)if(this.xVal[e]!==this.xVal[e+1]){this.xSteps[e]=g([this.xVal[e],this.xVal[e+1]],t,0)/p(this.xPct[e],this.xPct[e+1]);var s=(this.xVal[e+1]-this.xVal[e])/this.xNumSteps[e],i=Math.ceil(Number(s.toFixed(3))-1),a=this.xVal[e]+this.xNumSteps[e]*i;this.xHighestCompleteStep[e]=a}else this.xSteps[e]=this.xHighestCompleteStep[e]=this.xVal[e]},e}(),w={to:function(e){return void 0===e?"":e.toFixed(2)},from:Number},y={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},S={tooltips:".__tooltips",aria:".__aria"};function C(e,t){if(!n(t))throw new Error("noUiSlider: 'step' is not numeric.");e.singleStep=t}function M(e,t){if(!n(t))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");e.keyboardPageMultiplier=t}function k(e,t){if(!n(t))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");e.keyboardMultiplier=t}function j(e,t){if(!n(t))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");e.keyboardDefaultStep=t}function T(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider: 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");e.spectrum=new x(t,e.snap||!1,e.singleStep)}function O(e,t){if(t=r(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider: 'start' option is incorrect.");e.handles=t.length,e.start=t}function L(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'snap' option must be a boolean.");e.snap=t}function V(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'animate' option must be a boolean.");e.animate=t}function E(e,t){if("number"!=typeof t)throw new Error("noUiSlider: 'animationDuration' option must be a number.");e.animationDuration=t}function P(e,t){var s,i=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(s=1;s<e.handles;s++)i.push(t);i.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");i=t}e.connect=i}function A(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function I(e,t){if(!n(t))throw new Error("noUiSlider: 'margin' option must be numeric.");0!==t&&(e.margin=e.spectrum.getDistance(t))}function N(e,t){if(!n(t))throw new Error("noUiSlider: 'limit' option must be numeric.");if(e.limit=e.spectrum.getDistance(t),!e.limit||e.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function z(e,t){var s;if(!n(t)&&!Array.isArray(t))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(t)&&2!==t.length&&!n(t[0])&&!n(t[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==t){for(Array.isArray(t)||(t=[t,t]),e.padding=[e.spectrum.getDistance(t[0]),e.spectrum.getDistance(t[1])],s=0;s<e.spectrum.xNumSteps.length-1;s++)if(e.padding[0][s]<0||e.padding[1][s]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var i=t[0]+t[1],a=e.spectrum.xVal[0];if(i/(e.spectrum.xVal[e.spectrum.xVal.length-1]-a)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function D(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function W(e,t){if("string"!=typeof t)throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var s=t.indexOf("tap")>=0,i=t.indexOf("drag")>=0,a=t.indexOf("fixed")>=0,n=t.indexOf("snap")>=0,l=t.indexOf("hover")>=0,o=t.indexOf("unconstrained")>=0,r=t.indexOf("drag-all")>=0;if(a){if(2!==e.handles)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");I(e,e.start[1]-e.start[0])}if(o&&(e.margin||e.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");e.events={tap:s||n,drag:i,dragAll:r,fixed:a,snap:n,hover:l,unconstrained:o}}function B(e,s){if(!1!==s)if(!0===s||t(s)){e.tooltips=[];for(var i=0;i<e.handles;i++)e.tooltips.push(s)}else{if((s=r(s)).length!==e.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");s.forEach((function(e){if("boolean"!=typeof e&&!t(e))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")})),e.tooltips=s}}function U(e,t){if(t.length!==e.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");e.handleAttributes=t}function $(e,s){if(!t(s))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");e.ariaFormat=s}function R(e,s){if(!function(e){return t(e)&&"function"==typeof e.from}(s))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");e.format=s}function F(e,t){if("boolean"!=typeof t)throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");e.keyboardSupport=t}function H(e,t){e.documentElement=t}function q(e,t){if("string"!=typeof t&&!1!==t)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function K(e,t){if("object"!=typeof t)throw new Error("noUiSlider: 'cssClasses' must be an object.");"string"==typeof e.cssPrefix?(e.cssClasses={},Object.keys(t).forEach((function(s){e.cssClasses[s]=e.cssPrefix+t[s]}))):e.cssClasses=t}function Y(e){var t={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:w,format:w},s={step:{r:!1,t:C},keyboardPageMultiplier:{r:!1,t:M},keyboardMultiplier:{r:!1,t:k},keyboardDefaultStep:{r:!1,t:j},start:{r:!0,t:O},connect:{r:!0,t:P},direction:{r:!0,t:D},snap:{r:!1,t:L},animate:{r:!1,t:V},animationDuration:{r:!1,t:E},range:{r:!0,t:T},orientation:{r:!1,t:A},margin:{r:!1,t:I},limit:{r:!1,t:N},padding:{r:!1,t:z},behaviour:{r:!0,t:W},ariaFormat:{r:!1,t:$},format:{r:!1,t:R},tooltips:{r:!1,t:B},keyboardSupport:{r:!0,t:F},documentElement:{r:!1,t:H},cssPrefix:{r:!0,t:q},cssClasses:{r:!0,t:K},handleAttributes:{r:!1,t:U}},a={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:y,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(s).forEach((function(n){if(i(e[n])||void 0!==a[n])s[n].t(t,i(e[n])?e[n]:a[n]);else if(s[n].r)throw new Error("noUiSlider: '"+n+"' is required.")})),t.pips=e.pips;var n=document.createElement("div"),l=void 0!==n.style.msTransform,o=void 0!==n.style.transform;t.transformRule=o?"transform":l?"msTransform":"webkitTransform";return t.style=[["left","top"],["right","bottom"]][t.dir][t.ort],t}function J(t,n,d){var p,g,m,b,f,_,v,x=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},w=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),y=t,C=n.spectrum,M=[],k=[],j=[],T=0,O={},L=t.ownerDocument,V=n.documentElement||L.documentElement,E=L.body,P="rtl"===L.dir||1===n.ort?0:100;function A(e,t){var s=L.createElement("div");return t&&u(s,t),e.appendChild(s),s}function I(e,t){var s=A(e,n.cssClasses.origin),i=A(s,n.cssClasses.handle);if(A(i,n.cssClasses.touchArea),i.setAttribute("data-handle",String(t)),n.keyboardSupport&&(i.setAttribute("tabindex","0"),i.addEventListener("keydown",(function(e){return function(e,t){if(D()||W(t))return!1;var s=["Left","Right"],i=["Down","Up"],a=["PageDown","PageUp"],l=["Home","End"];n.dir&&!n.ort?s.reverse():n.ort&&!n.dir&&(i.reverse(),a.reverse());var o,r=e.key.replace("Arrow",""),d=r===a[0],u=r===a[1],h=r===i[0]||r===s[0]||d,c=r===i[1]||r===s[1]||u,p=r===l[0],g=r===l[1];if(!(h||c||p||g))return!0;if(e.preventDefault(),c||h){var m=h?0:1,b=be(t)[m];if(null===b)return!1;!1===b&&(b=C.getDefaultStep(k[t],h,n.keyboardDefaultStep)),b*=u||d?n.keyboardPageMultiplier:n.keyboardMultiplier,b=Math.max(b,1e-7),b*=h?-1:1,o=M[t]+b}else o=g?n.spectrum.xVal[n.spectrum.xVal.length-1]:n.spectrum.xVal[0];return he(t,C.toStepping(o),!0,!0),ne("slide",t),ne("update",t),ne("change",t),ne("set",t),!1}(e,t)}))),void 0!==n.handleAttributes){var a=n.handleAttributes[t];Object.keys(a).forEach((function(e){i.setAttribute(e,a[e])}))}return i.setAttribute("role","slider"),i.setAttribute("aria-orientation",n.ort?"vertical":"horizontal"),0===t?u(i,n.cssClasses.handleLower):t===n.handles-1&&u(i,n.cssClasses.handleUpper),s}function N(e,t){return!!t&&A(e,n.cssClasses.connect)}function z(e,t){return!(!n.tooltips||!n.tooltips[t])&&A(e.firstChild,n.cssClasses.tooltip)}function D(){return y.hasAttribute("disabled")}function W(e){return g[e].hasAttribute("disabled")}function B(){f&&(ae("update"+S.tooltips),f.forEach((function(e){e&&s(e)})),f=null)}function U(){B(),f=g.map(z),ie("update"+S.tooltips,(function(e,t,s){if(f&&n.tooltips&&!1!==f[t]){var i=e[t];!0!==n.tooltips[t]&&(i=n.tooltips[t].to(s[t])),f[t].innerHTML=i}}))}function $(e,t){return e.map((function(e){return C.fromStepping(t?C.getStep(e):e)}))}function R(t){var s,i=function(t){if(t.mode===e.PipsMode.Range||t.mode===e.PipsMode.Steps)return C.xVal;if(t.mode===e.PipsMode.Count){if(t.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var s=t.values-1,i=100/s,a=[];s--;)a[s]=s*i;return a.push(100),$(a,t.stepped)}return t.mode===e.PipsMode.Positions?$(t.values,t.stepped):t.mode===e.PipsMode.Values?t.stepped?t.values.map((function(e){return C.fromStepping(C.getStep(C.toStepping(e)))})):t.values:[]}(t),a={},n=C.xVal[0],l=C.xVal[C.xVal.length-1],o=!1,r=!1,d=0;return(s=i.slice().sort((function(e,t){return e-t})),i=s.filter((function(e){return!this[e]&&(this[e]=!0)}),{}))[0]!==n&&(i.unshift(n),o=!0),i[i.length-1]!==l&&(i.push(l),r=!0),i.forEach((function(s,n){var l,u,h,c,p,g,m,b,f,_,v=s,x=i[n+1],w=t.mode===e.PipsMode.Steps;for(w&&(l=C.xNumSteps[n]),l||(l=x-v),void 0===x&&(x=v),l=Math.max(l,1e-7),u=v;u<=x;u=Number((u+l).toFixed(7))){for(b=(p=(c=C.toStepping(u))-d)/(t.density||1),_=p/(f=Math.round(b)),h=1;h<=f;h+=1)a[(g=d+h*_).toFixed(5)]=[C.fromStepping(g),0];m=i.indexOf(u)>-1?e.PipsType.LargeValue:w?e.PipsType.SmallValue:e.PipsType.NoValue,!n&&o&&u!==x&&(m=0),u===x&&r||(a[c.toFixed(5)]=[u,m]),d=c}})),a}function F(t,s,i){var a,l,o=L.createElement("div"),r=((a={})[e.PipsType.None]="",a[e.PipsType.NoValue]=n.cssClasses.valueNormal,a[e.PipsType.LargeValue]=n.cssClasses.valueLarge,a[e.PipsType.SmallValue]=n.cssClasses.valueSub,a),d=((l={})[e.PipsType.None]="",l[e.PipsType.NoValue]=n.cssClasses.markerNormal,l[e.PipsType.LargeValue]=n.cssClasses.markerLarge,l[e.PipsType.SmallValue]=n.cssClasses.markerSub,l),h=[n.cssClasses.valueHorizontal,n.cssClasses.valueVertical],c=[n.cssClasses.markerHorizontal,n.cssClasses.markerVertical];function p(e,t){var s=t===n.cssClasses.value,i=s?r:d;return t+" "+(s?h:c)[n.ort]+" "+i[e]}return u(o,n.cssClasses.pips),u(o,0===n.ort?n.cssClasses.pipsHorizontal:n.cssClasses.pipsVertical),Object.keys(t).forEach((function(a){!function(t,a,l){if((l=s?s(a,l):l)!==e.PipsType.None){var r=A(o,!1);r.className=p(l,n.cssClasses.marker),r.style[n.style]=t+"%",l>e.PipsType.NoValue&&((r=A(o,!1)).className=p(l,n.cssClasses.value),r.setAttribute("data-value",String(a)),r.style[n.style]=t+"%",r.innerHTML=String(i.to(a)))}}(a,t[a][0],t[a][1])})),o}function H(){b&&(s(b),b=null)}function q(e){H();var t=R(e),s=e.filter,i=e.format||{to:function(e){return String(Math.round(e))}};return b=y.appendChild(F(t,s,i))}function K(){var e=p.getBoundingClientRect(),t="offset"+["Width","Height"][n.ort];return 0===n.ort?e.width||p[t]:e.height||p[t]}function J(e,t,s,i){var a=function(a){var l,o,r=function(e,t,s){var i=0===e.type.indexOf("touch"),a=0===e.type.indexOf("mouse"),n=0===e.type.indexOf("pointer"),l=0,o=0;if(0===e.type.indexOf("MSPointer")&&(n=!0),"mousedown"===e.type&&!e.buttons&&!e.touches)return!1;if(i){var r=function(t){var i=t.target;return i===s||s.contains(i)||e.composed&&e.composedPath().shift()===s};if("touchstart"===e.type){var d=Array.prototype.filter.call(e.touches,r);if(d.length>1)return!1;l=d[0].pageX,o=d[0].pageY}else{var u=Array.prototype.find.call(e.changedTouches,r);if(!u)return!1;l=u.pageX,o=u.pageY}}return t=t||c(L),(a||n)&&(l=e.clientX+t.x,o=e.clientY+t.y),e.pageOffset=t,e.points=[l,o],e.cursor=a||n,e}(a,i.pageOffset,i.target||t);return!!r&&!(D()&&!i.doNotReject)&&(l=y,o=n.cssClasses.tap,!((l.classList?l.classList.contains(o):new RegExp("\\b"+o+"\\b").test(l.className))&&!i.doNotReject))&&!(e===x.start&&void 0!==r.buttons&&r.buttons>1)&&(!i.hover||!r.buttons)&&(w||r.preventDefault(),r.calcPoint=r.points[n.ort],void s(r,i))},l=[];return e.split(" ").forEach((function(e){t.addEventListener(e,a,!!w&&{passive:!0}),l.push([e,a])})),l}function G(e){var t,s,i,a,l,r,d=100*(e-(t=p,s=n.ort,i=t.getBoundingClientRect(),a=t.ownerDocument,l=a.documentElement,r=c(a),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(r.x=0),s?i.top+r.y-l.clientTop:i.left+r.x-l.clientLeft))/K();return d=o(d),n.dir?100-d:d}function X(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&Z(e,t)}function Q(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return Z(e,t);var s=(n.dir?-1:1)*(e.calcPoint-t.startCalcPoint);re(s>0,100*s/t.baseSize,t.locations,t.handleNumbers,t.connect)}function Z(e,t){t.handle&&(h(t.handle,n.cssClasses.active),T-=1),t.listeners.forEach((function(e){V.removeEventListener(e[0],e[1])})),0===T&&(h(y,n.cssClasses.drag),ue(),e.cursor&&(E.style.cursor="",E.removeEventListener("selectstart",a))),t.handleNumbers.forEach((function(e){ne("change",e),ne("set",e),ne("end",e)}))}function ee(e,t){if(!t.handleNumbers.some(W)){var s;1===t.handleNumbers.length&&(s=g[t.handleNumbers[0]].children[0],T+=1,u(s,n.cssClasses.active)),e.stopPropagation();var i=[],l=J(x.move,V,Q,{target:e.target,handle:s,connect:t.connect,listeners:i,startCalcPoint:e.calcPoint,baseSize:K(),pageOffset:e.pageOffset,handleNumbers:t.handleNumbers,buttonsProperty:e.buttons,locations:k.slice()}),o=J(x.end,V,Z,{target:e.target,handle:s,listeners:i,doNotReject:!0,handleNumbers:t.handleNumbers}),r=J("mouseout",V,X,{target:e.target,handle:s,listeners:i,doNotReject:!0,handleNumbers:t.handleNumbers});i.push.apply(i,l.concat(o,r)),e.cursor&&(E.style.cursor=getComputedStyle(e.target).cursor,g.length>1&&u(y,n.cssClasses.drag),E.addEventListener("selectstart",a,!1)),t.handleNumbers.forEach((function(e){ne("start",e)}))}}function te(e){e.stopPropagation();var t=G(e.calcPoint),s=function(e){var t=100,s=!1;return g.forEach((function(i,a){if(!W(a)){var n=k[a],l=Math.abs(n-e);(l<t||l<=t&&e>n||100===l&&100===t)&&(s=a,t=l)}})),s}(t);!1!==s&&(n.events.snap||l(y,n.cssClasses.tap,n.animationDuration),he(s,t,!0,!0),ue(),ne("slide",s,!0),ne("update",s,!0),n.events.snap?ee(e,{handleNumbers:[s]}):(ne("change",s,!0),ne("set",s,!0)))}function se(e){var t=G(e.calcPoint),s=C.getStep(t),i=C.fromStepping(s);Object.keys(O).forEach((function(e){"hover"===e.split(".")[0]&&O[e].forEach((function(e){e.call(fe,i)}))}))}function ie(e,t){O[e]=O[e]||[],O[e].push(t),"update"===e.split(".")[0]&&g.forEach((function(e,t){ne("update",t)}))}function ae(e){var t=e&&e.split(".")[0],s=t?e.substring(t.length):e;Object.keys(O).forEach((function(e){var i=e.split(".")[0],a=e.substring(i.length);t&&t!==i||s&&s!==a||function(e){return e===S.aria||e===S.tooltips}(a)&&s!==a||delete O[e]}))}function ne(e,t,s){Object.keys(O).forEach((function(i){var a=i.split(".")[0];e===a&&O[i].forEach((function(e){e.call(fe,M.map(n.format.to),t,M.slice(),s||!1,k.slice(),fe)}))}))}function le(e,t,s,i,a,l){var r;return g.length>1&&!n.events.unconstrained&&(i&&t>0&&(r=C.getAbsoluteDistance(e[t-1],n.margin,!1),s=Math.max(s,r)),a&&t<g.length-1&&(r=C.getAbsoluteDistance(e[t+1],n.margin,!0),s=Math.min(s,r))),g.length>1&&n.limit&&(i&&t>0&&(r=C.getAbsoluteDistance(e[t-1],n.limit,!1),s=Math.min(s,r)),a&&t<g.length-1&&(r=C.getAbsoluteDistance(e[t+1],n.limit,!0),s=Math.max(s,r))),n.padding&&(0===t&&(r=C.getAbsoluteDistance(0,n.padding[0],!1),s=Math.max(s,r)),t===g.length-1&&(r=C.getAbsoluteDistance(100,n.padding[1],!0),s=Math.min(s,r))),!((s=o(s=C.getStep(s)))===e[t]&&!l)&&s}function oe(e,t){var s=n.ort;return(s?t:e)+", "+(s?e:t)}function re(e,t,s,i,a){var n=s.slice(),l=i[0],o=[!e,e],r=[e,!e];i=i.slice(),e&&i.reverse(),i.length>1?i.forEach((function(e,s){var i=le(n,e,n[e]+t,o[s],r[s],!1);!1===i?t=0:(t=i-n[e],n[e]=i)})):o=r=[!0];var d=!1;i.forEach((function(e,i){d=he(e,s[e]+t,o[i],r[i])||d})),d&&(i.forEach((function(e){ne("update",e),ne("slide",e)})),null!=a&&ne("drag",l))}function de(e,t){return n.dir?100-e-t:e}function ue(){j.forEach((function(e){var t=k[e]>50?-1:1,s=3+(g.length+t*e);g[e].style.zIndex=String(s)}))}function he(e,t,s,i,a){return a||(t=le(k,e,t,s,i,!1)),!1!==t&&(function(e,t){k[e]=t,M[e]=C.fromStepping(t);var s="translate("+oe(10*(de(t,0)-P)+"%","0")+")";g[e].style[n.transformRule]=s,ce(e),ce(e+1)}(e,t),!0)}function ce(e){if(m[e]){var t=0,s=100;0!==e&&(t=k[e-1]),e!==m.length-1&&(s=k[e]);var i=s-t,a="translate("+oe(de(t,i)+"%","0")+")",l="scale("+oe(i/100,"1")+")";m[e].style[n.transformRule]=a+" "+l}}function pe(e,t){return null===e||!1===e||void 0===e?k[t]:("number"==typeof e&&(e=String(e)),!1!==(e=n.format.from(e))&&(e=C.toStepping(e)),!1===e||isNaN(e)?k[t]:e)}function ge(e,t,s){var i=r(e),a=void 0===k[0];t=void 0===t||t,n.animate&&!a&&l(y,n.cssClasses.tap,n.animationDuration),j.forEach((function(e){he(e,pe(i[e],e),!0,!1,s)}));var o=1===j.length?0:1;if(a&&C.hasNoSize()&&(s=!0,k[0]=0,j.length>1)){var d=100/(j.length-1);j.forEach((function(e){k[e]=e*d}))}for(;o<j.length;++o)j.forEach((function(e){he(e,k[e],!0,!0,s)}));ue(),j.forEach((function(e){ne("update",e),null!==i[e]&&t&&ne("set",e)}))}function me(e){if(void 0===e&&(e=!1),e)return 1===M.length?M[0]:M.slice(0);var t=M.map(n.format.to);return 1===t.length?t[0]:t}function be(e){var t=k[e],s=C.getNearbySteps(t),i=M[e],a=s.thisStep.step,l=null;if(n.snap)return[i-s.stepBefore.startValue||null,s.stepAfter.startValue-i||null];!1!==a&&i+a>s.stepAfter.startValue&&(a=s.stepAfter.startValue-i),l=i>s.thisStep.startValue?s.thisStep.step:!1!==s.stepBefore.step&&i-s.stepBefore.highestStep,100===t?a=null:0===t&&(l=null);var o=C.countStepDecimals();return null!==a&&!1!==a&&(a=Number(a.toFixed(o))),null!==l&&!1!==l&&(l=Number(l.toFixed(o))),[l,a]}u(v=y,n.cssClasses.target),0===n.dir?u(v,n.cssClasses.ltr):u(v,n.cssClasses.rtl),0===n.ort?u(v,n.cssClasses.horizontal):u(v,n.cssClasses.vertical),u(v,"rtl"===getComputedStyle(v).direction?n.cssClasses.textDirectionRtl:n.cssClasses.textDirectionLtr),p=A(v,n.cssClasses.base),function(e,t){var s=A(t,n.cssClasses.connects);g=[],(m=[]).push(N(s,e[0]));for(var i=0;i<n.handles;i++)g.push(I(t,i)),j[i]=i,m.push(N(s,e[i+1]))}(n.connect,p),(_=n.events).fixed||g.forEach((function(e,t){J(x.start,e.children[0],ee,{handleNumbers:[t]})})),_.tap&&J(x.start,p,te,{}),_.hover&&J(x.move,p,se,{hover:!0}),_.drag&&m.forEach((function(e,t){if(!1!==e&&0!==t&&t!==m.length-1){var s=g[t-1],i=g[t],a=[e],l=[s,i],o=[t-1,t];u(e,n.cssClasses.draggable),_.fixed&&(a.push(s.children[0]),a.push(i.children[0])),_.dragAll&&(l=g,o=j),a.forEach((function(t){J(x.start,t,ee,{handles:l,handleNumbers:o,connect:e})}))}})),ge(n.start),n.pips&&q(n.pips),n.tooltips&&U(),ae("update"+S.aria),ie("update"+S.aria,(function(e,t,s,i,a){j.forEach((function(e){var t=g[e],i=le(k,e,0,!0,!0,!0),l=le(k,e,100,!0,!0,!0),o=a[e],r=String(n.ariaFormat.to(s[e]));i=C.fromStepping(i).toFixed(1),l=C.fromStepping(l).toFixed(1),o=C.fromStepping(o).toFixed(1),t.children[0].setAttribute("aria-valuemin",i),t.children[0].setAttribute("aria-valuemax",l),t.children[0].setAttribute("aria-valuenow",o),t.children[0].setAttribute("aria-valuetext",r)}))}));var fe={destroy:function(){for(ae(S.aria),ae(S.tooltips),Object.keys(n.cssClasses).forEach((function(e){h(y,n.cssClasses[e])}));y.firstChild;)y.removeChild(y.firstChild);delete y.noUiSlider},steps:function(){return j.map(be)},on:ie,off:ae,get:me,set:ge,setHandle:function(e,t,s,i){if(!((e=Number(e))>=0&&e<j.length))throw new Error("noUiSlider: invalid handle number, got: "+e);he(e,pe(t,e),!0,!0,i),ne("update",e),s&&ne("set",e)},reset:function(e){ge(n.start,e)},__moveHandles:function(e,t,s){re(e,t,k,s)},options:d,updateOptions:function(e,t){var s=me(),a=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];a.forEach((function(t){void 0!==e[t]&&(d[t]=e[t])}));var l=Y(d);a.forEach((function(t){void 0!==e[t]&&(n[t]=l[t])})),C=l.spectrum,n.margin=l.margin,n.limit=l.limit,n.padding=l.padding,n.pips?q(n.pips):H(),n.tooltips?U():B(),k=[],ge(i(e.start)?e.start:s,t)},target:y,removePips:H,removeTooltips:B,getPositions:function(){return k.slice()},getTooltips:function(){return f},getOrigins:function(){return g},pips:q};return fe}function G(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+e);if(e.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var s=J(e,Y(t),t);return e.noUiSlider=s,s}var X={__spectrum:x,cssClasses:y,create:G};e.create=G,e.cssClasses=y,e.default=X,Object.defineProperty(e,"__esModule",{value:!0})}(t)}}]);